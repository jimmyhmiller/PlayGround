# Only trace user fn reductions, not builtins

fn fact(0) = 1
fn fact(?n) = ?n * fact(?n - 1)

rule trace_rules : @meta -> @io {
  reduction(?s, ?old, ?new, fn(?name, ?clause)) => println("[", ?s, "] ", ?old, "  =>  ", ?new, "  (", ?name, "/", ?clause, ")")
}

fact(5)
