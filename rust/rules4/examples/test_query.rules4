fn count(nil) = 0
fn count(cons(?h, ?t)) = 1 + count(?t)

fn active(nil) = nil
fn active(cons(entry(?b, false), ?t)) = cons(entry(?b, false), active(?t))
fn active(cons(entry(?b, true), ?t)) = active(?t)

{
  rule(todo(1), entry("buy milk", false))
  rule(todo(2), entry("clean house", true))
  rule(todo(3), entry("write code", false))
  count(active(query_all(entry)))
}
