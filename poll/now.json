{
  "version": 2,
  "name": "poll",
  "alias": "poll-app.now.sh",
  "builds": [
    { "src": "api/poll.js", "use": "@now/node" },
    { "src": "api/actions.js", "use": "@now/node" },
    { "src": "api/oauth.js", "use": "@now/node" },
    { "src": "frontend/next.config.js", "use": "@now/next"},
    { "src": "frontend/static/*", "use": "@now/static" }
  ],
  "env": {
    "CLIENT_ID": "@slack-client-id",
    "CLIENT_SECRET": "@slack-client-secret"
  },
  "routes": [
    {
      "src": "/poll", 
      "dest": "/api/poll.js" 
    },
    {
      "src": "/oauth", 
      "dest": "/api/oauth.js"
    },
    {
      "src": "/actions", 
      "dest": "/api/actions.js" 
    },
    {
      "src": "/", 
      "dest": "/frontend/" 
    },
    {
      "src": "/static/(.*)", 
      "dest": "/frontend/static/$1" 
    }
  ]
}