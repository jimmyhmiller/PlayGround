<!-- 
═══════════════════════════════════════════════════════════════════════
⚠️  WARNING: DO NOT EDIT THIS FILE MANUALLY!
═══════════════════════════════════════════════════════════════════════

This file is managed by bug-tracker CLI tool.
Manual edits may be overwritten or cause parsing errors.

To add, close, or list bugs, use:
    bug-tracker --help

═══════════════════════════════════════════════════════════════════════
-->

# Bugs

This file tracks bugs discovered during development.

## Fraction literals not supported (SFrac) [obedient-worthless-trout]

**ID:** obedient-worthless-trout
**Timestamp:** 2025-11-03 22:02:50
**Severity:** medium
**Location:** src/parser.rs (parse_num_expr)
**Tags:** parser, numeric-literals, ast-mismatch

### Description

Pyret supports fraction literals like 1/2, 3/2 which should parse as s-num nodes with string values like "1/2". Currently the parser treats these as UNSUPPORTED SFrac nodes. This affects test-strings.arr which uses fraction literals in 6 locations (lines 17, 21, 22, 86, 89, 149).

### Minimal Reproducing Case

1/2

### Code Snippet

```
// Test case in comparison_tests.rs
#[test]
#[ignore] // BUG: Fraction literals not supported (SFrac)
fn test_fraction_literal() {
    assert_matches_pyret(r#"
1/2
"#);
}
```

### Metadata

- **line_numbers:** [17,21,22,86,89,149]
- **affects_count:** 6
- **found_in:** "test-strings.arr"

---

## Let expression structure mismatch in for loop bodies [loose-unrealistic-horse]

**ID:** loose-unrealistic-horse
**Timestamp:** 2025-11-03 22:03:01
**Severity:** medium
**Location:** src/parser.rs (parse_for_expr, parse_block)
**Tags:** parser, for-loops, let-expressions, ast-structure

### Description

Let bindings inside for loop bodies produce incorrect AST structure. The official Pyret parser generates individual s-let nodes, but our parser generates s-let-expr nodes with a binds array. This structural difference prevents AST matching for code using let bindings within for-each loops. Found when comparing test-strings.arr line 188.

### Minimal Reproducing Case

for each(i from range(0, 2)):
  ix1 = random(100)
  ix1
end

### Code Snippet

```
// Test case in comparison_tests.rs
#[test]
#[ignore] // BUG: Let expression structure mismatch in for loop bodies
fn test_let_in_for_loop() {
    assert_matches_pyret(r#"
for each(i from range(0, 2)):
  ix1 = random(100)
  ix1
end
"#);
}
```

### Metadata

- **ast_difference:** "s-let vs s-let-expr with binds array"
- **found_in:** "test-strings.arr"
- **line_number:** 188

---

