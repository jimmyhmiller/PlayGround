{"type": "s-program", "use": null, "provide": {"type": "s-provide-all"}, "provided-types": {"type": "s-provide-types-all"}, "provides": [], "imports": [{"type": "s-import", "import-type": {"type": "s-const-import", "mod": "either"}, "name": {"type": "s-name", "name": "E"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "parse-pyret"}, "name": {"type": "s-name", "name": "P"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "ast"}, "name": {"type": "s-name", "name": "A"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "load-lib"}, "name": {"type": "s-name", "name": "L"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "render-error-display"}, "name": {"type": "s-name", "name": "RED"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "runtime-lib"}, "name": {"type": "s-name", "name": "R"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "sets"}, "name": {"type": "s-name", "name": "S"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "sha"}, "name": {"type": "s-name", "name": "SHA"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "srcloc"}, "name": {"type": "s-name", "name": "Loc"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "string-dict"}, "name": {"type": "s-name", "name": "SD"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["compile-structs.arr"]}, "name": {"type": "s-name", "name": "CS"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["concat-lists.arr"]}, "name": {"type": "s-name", "name": "C"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["gensym.arr"]}, "name": {"type": "s-name", "name": "G"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["js-of-pyret.arr"]}, "name": {"type": "s-name", "name": "JSP"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["js-ast.arr"]}, "name": {"type": "s-name", "name": "J"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["ast-util.arr"]}, "name": {"type": "s-name", "name": "AU"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["well-formed.arr"]}, "name": {"type": "s-name", "name": "W"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["desugar.arr"]}, "name": {"type": "s-name", "name": "D"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["desugar-post-tc.arr"]}, "name": {"type": "s-name", "name": "DP"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["type-check.arr"]}, "name": {"type": "s-name", "name": "T"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["desugar-check.arr"]}, "name": {"type": "s-name", "name": "CH"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["resolve-scope.arr"]}, "name": {"type": "s-name", "name": "RS"}}], "body": {"type": "s-block", "stmts": [{"type": "s-data", "name": "CompilationPhase", "params": [], "mixins": [], "variants": [{"type": "s-variant", "constr-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 28, 4, 709, 28, 25, 730)", "name": "start", "members": [{"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "time"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Number"}}}}], "with-members": []}, {"type": "s-variant", "constr-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 29, 4, 735, 29, 82, 813)", "name": "phase", "members": [{"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}}, {"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "result"}, "ann": {"type": "a-any"}}}, {"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "time"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Number"}}}}, {"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "prev"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "CompilationPhase"}}}}], "with-members": []}], "shared-members": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-start"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "the-phase"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "help"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "the-phase"}}, "field": "prev"}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 38, 39, 1082, 38, 40, 1083)", "op": "op^", "left": {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "name", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "the-phase"}}, "field": "name"}}, {"type": "s-data-field", "name": "time", "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 37, 34, 1020, 37, 35, 1021)", "op": "op-", "left": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "the-phase"}}, "field": "time"}, "right": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "the-phase"}}, "field": "prev"}, "field": "time"}}}, {"type": "s-data-field", "name": "result", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "the-phase"}}, "field": "result"}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "help", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "the-phase"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "help"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}, "params": [], "check": null, "name": "tolist", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}], "check-loc": null, "check": null}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-fun"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-fun"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-var"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-var"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-id"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-id"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-method"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-method"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-block"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-block"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-true"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-true"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-false"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-false"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-num"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-num"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-str"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-str"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-return"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-return"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-assign"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-assign"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-if"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-if"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-if1"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-if1"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-new"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-new"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-app"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-app"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-list"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-list"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-obj"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-obj"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-dot"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-dot"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-bracket"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-bracket"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-field"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-field"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-dot-assign"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-dot-assign"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-bracket-assign"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-bracket-assign"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-try-catch"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-try-catch"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-throw"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-throw"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-expr"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-expr"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-binop"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-binop"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-and"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-and"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-lt"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-lt"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-eq"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-eq"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-neq"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-neq"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-geq"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-geq"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-unop"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-unop"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-decr"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-decr"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-incr"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-incr"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-not"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-not"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-instanceof"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-instanceof"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-ternary"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-ternary"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-null"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-null"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-parens"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-parens"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-switch"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-switch"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-case"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-case"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-default"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-default"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-label"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-label"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-break"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-break"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-while"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-while"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "j-for"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-for"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "left"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "E"}}, "field": "left"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "right"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "E"}}, "field": "right"}, "keyword-val": false}, {"type": "s-type", "name": {"type": "s-name", "name": "Either"}, "params": [], "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "E"}, "field": "Either"}}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mtd"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "string-dict"}, "values": []}, "keyword-val": false}, {"type": "s-type", "name": {"type": "s-name", "name": "URI"}, "params": [], "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}, {"type": "s-data", "name": "PyretCode", "params": [], "mixins": [], "variants": [{"type": "s-variant", "constr-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 102, 4, 2161, 102, 29, 2186)", "name": "pyret-string", "members": [{"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}}], "with-members": []}, {"type": "s-variant", "constr-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 103, 4, 2191, 103, 31, 2218)", "name": "pyret-ast", "members": [{"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ast"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Program"}}}], "with-members": []}], "shared-members": [], "check-loc": null, "check": null}, {"type": "s-type", "name": {"type": "s-name", "name": "ModuleResult"}, "params": [], "ann": {"type": "a-any"}}, {"type": "s-type", "name": {"type": "s-name", "name": "Loadable"}, "params": [], "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "Loadable"}}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "module-as-string"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "module-as-string"}, "keyword-val": false}, {"type": "s-type", "name": {"type": "s-name", "name": "Provides"}, "params": [], "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "Provides"}}, {"type": "s-type", "name": {"type": "s-name", "name": "Locator"}, "params": [], "ann": {"type": "a-record", "fields": [{"type": "a-field", "name": "get-modified-time", "ann": {"type": "a-arrow", "args": [], "ret": {"type": "a-name", "id": {"type": "s-name", "name": "Number"}}, "use-parens": true}}, {"type": "a-field", "name": "get-options", "ann": {"type": "a-arrow", "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "CompileOptions"}], "ret": {"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "CompileOptions"}, "use-parens": true}}, {"type": "a-field", "name": "needs-compile", "ann": {"type": "a-arrow", "args": [{"type": "a-app", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "SD"}, "field": "StringDict"}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Provides"}}]}], "ret": {"type": "a-name", "id": {"type": "s-name", "name": "Boolean"}}, "use-parens": true}}, {"type": "a-field", "name": "get-module", "ann": {"type": "a-arrow", "args": [], "ret": {"type": "a-name", "id": {"type": "s-name", "name": "PyretCode"}}, "use-parens": true}}, {"type": "a-field", "name": "get-dependencies", "ann": {"type": "a-arrow", "args": [], "ret": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "Dependency"}]}, "use-parens": true}}, {"type": "a-field", "name": "get-native-modules", "ann": {"type": "a-arrow", "args": [], "ret": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "NativeModule"}]}, "use-parens": true}}, {"type": "a-field", "name": "get-extra-imports", "ann": {"type": "a-arrow", "args": [], "ret": {"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "ExtraImports"}, "use-parens": true}}, {"type": "a-field", "name": "get-globals", "ann": {"type": "a-arrow", "args": [], "ret": {"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "Globals"}, "use-parens": true}}, {"type": "a-field", "name": "uri", "ann": {"type": "a-arrow", "args": [], "ret": {"type": "a-name", "id": {"type": "s-name", "name": "URI"}}, "use-parens": true}}, {"type": "a-field", "name": "name", "ann": {"type": "a-arrow", "args": [], "ret": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}, "use-parens": true}}, {"type": "a-field", "name": "set-compiled", "ann": {"type": "a-arrow", "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Loadable"}}, {"type": "a-app", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "SD"}, "field": "StringDict"}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Provides"}}]}], "ret": {"type": "a-name", "id": {"type": "s-name", "name": "Nothing"}}, "use-parens": true}}, {"type": "a-field", "name": "get-compiled", "ann": {"type": "a-arrow", "args": [], "ret": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "CompileResult"}]}, "use-parens": true}}, {"type": "a-field", "name": "_equals", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Method"}}}]}}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-obj", "fields": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-bool", "value": true}]}, "params": [], "check": null, "name": "needs-compile", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-num", "value": "0"}]}, "params": [], "check": null, "name": "get-modified-time", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "options"}}]}, "params": [], "check": null, "name": "get-options", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "options"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "pyret-string"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}]}, "params": [], "check": null, "name": "get-module", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}, "params": [], "check": null, "name": "get-native-modules", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-standard-dependencies"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "pyret-string"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}]}, "params": [], "check": null, "name": "get-dependencies", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "standard-imports"}]}, "params": [], "check": null, "name": "get-extra-imports", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "standard-globals"}]}, "params": [], "check": null, "name": "get-globals", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}, "params": [], "check": null, "name": "uri", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}, "params": [], "check": null, "name": "name", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}, "params": [], "check": null, "name": "set-compiled", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}, "params": [], "check": null, "name": "get-compiled", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rec-eq"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "other"}}, "field": "uri"}, "args": []}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "uri"}, "args": []}]}]}, "params": [], "check": null, "name": "_equals", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "other"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rec-eq"}, "ann": {"type": "a-blank"}}]}]}]}, "params": [], "check": null, "name": "string-locator", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "URI"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}]}, {"type": "s-data", "name": "Located", "params": [{"type": "s-name", "name": "a"}], "mixins": [], "variants": [{"type": "s-variant", "constr-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 175, 4, 4258, 175, 45, 4299)", "name": "located", "members": [{"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "locator"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Locator"}}}}, {"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "context"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "a"}}}}], "with-members": []}], "shared-members": [], "check-loc": null, "check": null}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "PyretCode"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "p"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 180, 6, 4374, 180, 21, 4389)", "name": "pyret-string", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "P"}}, "field": "surface-parse"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}, {"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 181, 6, 4423, 181, 18, 4435)", "name": "pyret-ast", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "a"}}]}}], "blocky": false}]}, "params": [], "check": null, "name": "get-ast", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "PyretCode"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "URI"}}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Import"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "i"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 187, 6, 4503, 187, 23, 4520)", "name": "s-import", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 188, 6, 4538, 188, 32, 4564)", "name": "s-import-types", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 189, 6, 4582, 189, 21, 4597)", "name": "s-include", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 190, 6, 4615, 190, 30, 4639)", "name": "s-import-fields", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 191, 6, 4657, 191, 29, 4680)", "name": "s-include-from", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}}], "blocky": false}]}, "params": [], "check": null, "name": "get-import-type", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "i"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "Dependency"}]}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "parsed"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-ast"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "p"}}, {"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "from-imports"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lists"}}, "field": "filter-map"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "get-import-type"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "parsed"}}, "field": "imports"}]}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "import-to-dep"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "parsed"}}, "field": "_use"}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 201, 6, 4949, 201, 10, 4953)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "from-imports"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 202, 6, 4977, 202, 13, 4984)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "u"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "import-to-dep"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "u"}}, "field": "mod"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "from-imports"}}]}]}}], "blocky": false}]}, "params": [], "check": null, "name": "get-dependencies", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "PyretCode"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "URI"}}}]}, {"ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "Dependency"}]}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-deps"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-dependencies"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "p"}}, {"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}, "keyword-val": false}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 208, 11, 5174, 208, 12, 5175)", "op": "op+", "left": {"type": "s-id", "id": {"type": "s-name", "name": "mod-deps"}}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "standard-imports"}, "field": "imports"}, "field": "map"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "dependency"}]}}]}, "params": [], "check": null, "name": "get-standard-dependencies", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "PyretCode"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "URI"}}}]}, {"ann": {"type": "a-app", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "SD"}, "field": "StringDict"}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "a"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "d"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "mtd"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "strs"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "d"}}, "field": "set"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}, {"type": "s-id", "id": {"type": "s-name", "name": "val"}}]}]}, "blocky": false}]}, "params": [{"type": "s-name", "name": "a"}], "check": null, "name": "const-dict", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "strs"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "String"}}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "val"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "a"}}}]}, {"type": "s-type", "name": {"type": "s-name", "name": "ToCompile"}, "params": [], "ann": {"type": "a-record", "fields": [{"type": "a-field", "name": "locator", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Locator"}}}, {"type": "a-field", "name": "dependency-map", "ann": {"type": "a-app", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "SD"}, "field": "MutableStringDict"}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Locator"}}]}}]}}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "sd2"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "mtd"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "sd"}}, "field": "keys-now"}, "args": []}, "field": "to-list"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "sd2"}}, "field": "set"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "sd"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}]}]}]}, "blocky": false}]}, "params": [{"type": "s-name", "name": "a"}, {"type": "s-name", "name": "b"}], "check": null, "name": "dict-map", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "sd"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "SD"}, "field": "MutableStringDict"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-arrow", "args": [{"type": "a-name", "id": {"type": "s-name", "name": "String"}}, {"type": "a-name", "id": {"type": "s-name", "name": "a"}}], "ret": {"type": "a-name", "id": {"type": "s-name", "name": "b"}}, "use-parens": true}}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dummy-provides"}, "ann": {"type": "a-blank"}}, "value": {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "provides"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-string-dict"}, "args": []}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-string-dict"}, "args": []}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-string-dict"}, "args": []}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-string-dict"}, "args": []}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}]}, "keyword-val": false}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "compile-worklist-known-modules"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "dfind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, {"type": "s-id", "id": {"type": "s-name", "name": "context"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}]}]}, "params": [{"type": "s-name", "name": "a"}], "check": null, "name": "compile-worklist", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dfind"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "locator"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "context"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "ToCompile"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "temp-marked"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}, "keyword-val": false}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "topo"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "temp-marked"}}, "field": "get-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}]}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 236, 8, 6341, 236, 18, 6351)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mark"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-id", "id": {"type": "s-name", "name": "mark"}}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 238, 42, 6416, 238, 43, 6417)", "op": "op+", "left": {"type": "s-str", "value": "Detected module cycle: "}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "curr-path"}}, "field": "reverse"}, "args": []}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "uri"}, "args": []}]}, "field": "join-str"}, "args": [{"type": "s-str", "value": " => "}]}}]}]}, "blocky": false}]}}, {"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 240, 8, 6489, 240, 12, 6493)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "temp-marked"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}, {"type": "s-bool", "value": true}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "pmap"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "deps"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "get-dependencies"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "found-mods"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "d"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "deps"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "found"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dfind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "context"}}, {"type": "s-id", "id": {"type": "s-name", "name": "d"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "pmap"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "d"}}, "field": "key"}, "args": []}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "found"}}, "field": "locator"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "found"}}]}, "blocky": true}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "found-mods"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "current-modules"}}, "field": "has-key-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "locator"}, "field": "uri"}, "args": []}]}]}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "visit"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "locator"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "context"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "locator"}, {"type": "s-id", "id": {"type": "s-name", "name": "curr-path"}}]}]}]}, "blocky": false}]}, "blocky": false}, {"type": "s-assign", "id": {"type": "s-name", "name": "topo"}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 257, 57, 7172, 257, 58, 7173)", "op": "op^", "left": {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "locator", "value": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}}, {"type": "s-data-field", "name": "dependency-map", "value": {"type": "s-id", "id": {"type": "s-name", "name": "pmap"}}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "topo"}}]}}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "temp-marked"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}, {"type": "s-bool", "value": false}]}]}}], "blocky": true}, {"type": "s-id", "id": {"type": "s-name", "name": "topo"}}]}, "params": [], "check": null, "name": "visit", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "locator"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Locator"}}}, {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "context"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "a"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "curr-path"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Locator"}}]}}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ans"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "visit"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, {"type": "s-id", "id": {"type": "s-name", "name": "context"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "locator"}}]}]}, "field": "reverse"}, "args": []}, "keyword-val": false}, {"type": "s-id", "id": {"type": "s-name", "name": "ans"}}]}, "params": [{"type": "s-name", "name": "a"}], "check": null, "name": "compile-worklist-known-modules", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dfind"}, "ann": {"type": "a-arrow", "args": [{"type": "a-name", "id": {"type": "s-name", "name": "a"}}, {"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "Dependency"}], "ret": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Located"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "a"}}]}, "use-parens": true}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "locator"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Locator"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "context"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "a"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "current-modules"}, "ann": {"type": "a-app", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "SD"}, "field": "MutableStringDict"}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Provides"}}]}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "max-dep-times"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dep-times-from-worklist"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "wl"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-modules"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "t"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "wl"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-loadable"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "t"}}, {"type": "s-id", "id": {"type": "s-name", "name": "max-dep-times"}}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "modules"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each2"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "m"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-modules"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "t"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "wl"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Loadable"}}]}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "m"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 277, 8, 7795, 277, 12, 7799)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 278, 8, 7819, 278, 22, 7833)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "m"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "modules"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "t"}}, "field": "locator"}, "field": "uri"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "m"}}]}]}}], "blocky": false}]}, "blocky": false}, {"type": "s-id", "id": {"type": "s-name", "name": "modules"}}]}, "params": [], "check": null, "name": "modules-from-worklist", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "wl"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "get-loadable"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "sd"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "string-dict"}, "values": []}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "located"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "wl"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "cur-mod-time"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "located"}}, "field": "locator"}, "field": "get-modified-time"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dm"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "located"}}, "field": "dependency-map"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "max-dep-time"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "fold-keys-now"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mdt"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "cur-mod-time"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dep-key"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "dm"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dep-loc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "dm"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "dep-key"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "num-max"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "sd"}}, "field": "get-value"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "dep-loc"}}, "field": "uri"}, "args": []}]}, {"type": "s-id", "id": {"type": "s-name", "name": "mdt"}}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "sd"}}, "field": "set"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "located"}}, "field": "locator"}, "field": "uri"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "max-dep-time"}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "dep-times-from-worklist", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "wl"}, "ann": {"type": "a-blank"}}]}, {"type": "s-type", "name": {"type": "s-name", "name": "CompiledProgram"}, "params": [], "ann": {"type": "a-record", "fields": [{"type": "a-field", "name": "loadables", "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Loadable"}}]}}, {"type": "a-field", "name": "modules", "ann": {"type": "a-app", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "SD"}, "field": "MutableStringDict"}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Loadable"}}]}}]}}, {"ann": {"type": "a-name", "id": {"type": "s-name", "name": "CompiledProgram"}}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "cache"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "modules"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loadables"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "w"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "worklist"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}, "field": "uri"}, "args": []}, "keyword-val": false}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cache"}}, "field": "has-key-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}]}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provide-map"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dict-map"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "dependency-map"}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "uri"}, "args": []}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v"}, "ann": {"type": "a-blank"}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "before-compile"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}]}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loadable"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Loadable"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "trace"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}}], "as-name": null}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "compile-module"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}, {"type": "s-id", "id": {"type": "s-name", "name": "provide-map"}}, {"type": "s-id", "id": {"type": "s-name", "name": "cache"}}, {"type": "s-id", "id": {"type": "s-name", "name": "options"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cache"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}, {"type": "s-id", "id": {"type": "s-name", "name": "loadable"}}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "local-loadable"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Loadable"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "loadable"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 315, 10, 9171, 315, 59, 9220)", "name": "module-as-string", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provides"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "post-env"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "result"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "module-as-string"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "localize-provides"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provides"}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "post-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "result"}}]}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "on-compile"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}, {"type": "s-id", "id": {"type": "s-name", "name": "local-loadable"}}, {"type": "s-id", "id": {"type": "s-name", "name": "trace"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cache"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}]}, "blocky": true}]}, "blocky": false}, "keyword-val": false}, {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "loadables", "value": {"type": "s-id", "id": {"type": "s-name", "name": "loadables"}}}, {"type": "s-data-field", "name": "modules", "value": {"type": "s-id", "id": {"type": "s-name", "name": "cache"}}}]}]}, "params": [], "check": null, "name": "compile-program-with", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "worklist"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "ToCompile"}}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "modules"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "options"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "compile-program-with"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "worklist"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "options"}}]}]}, "params": [], "check": null, "name": "compile-program", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "worklist"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "options"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-name", "id": {"type": "s-name", "name": "Boolean"}}, "body": {"type": "s-block", "stmts": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 332, 37, 9737, 332, 39, 9739)", "op": "op==", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "string-index-of"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}, {"type": "s-str", "value": "builtin://"}]}, "right": {"type": "s-num", "value": "0"}}]}, "params": [], "check": null, "name": "is-builtin-module", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "sets"}}, "field": "list-to-list-set"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "lst"}}]}, "field": "to-list"}, "args": []}]}, "params": [], "check": null, "name": "unique", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lst"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-tuple", "fields": [{"type": "a-name", "id": {"type": "s-name", "name": "Loadable"}}, {"type": "a-name", "id": {"type": "s-name", "name": "List"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "G"}}, "field": "reset"}, "args": []}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "global-names"}, "field": "reset"}, "args": []}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "compile-env"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "get-globals"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "modules"}}, {"type": "s-id", "id": {"type": "s-name", "name": "provide-map"}}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Loadable"}}]}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "get-compiled"}, "args": []}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 349, 6, 10260, 349, 20, 10274)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loadable"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Loadable"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "loadable"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 352, 10, 10365, 352, 56, 10411)", "name": "module-as-string", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "pvds"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ce-unused"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "post-env"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "m"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "module-as-string"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "canonicalize-provides"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "pvds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "ce-unused"}}, {"type": "s-id", "id": {"type": "s-name", "name": "post-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "m"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}}], "blocky": false}]}}, {"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 355, 6, 10528, 355, 10, 10532)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "options"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "get-options"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "options"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "libs"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "get-extra-imports"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "get-module"}, "args": []}, "keyword-val": false}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ast"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "PyretCode"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "mod"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 361, 10, 10761, 361, 37, 10788)", "name": "pyret-string", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "module-string"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "P"}}, "field": "surface-parse"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "module-string"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 363, 10, 10858, 363, 31, 10879)", "name": "pyret-ast", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "module-ast"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "module-ast"}}]}}], "blocky": false}}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ret"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "start"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "time-now"}}, "args": []}]}}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "collect-all"}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "ret"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "phase"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "value"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "time-now"}}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "ret"}}]}}]}}, {"type": "s-if-branch", "test": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "collect-times"}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "ret"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "phase"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "time-now"}}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "ret"}}]}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}, "blocky": false}, {"type": "s-id", "id": {"type": "s-name", "name": "value"}}]}, "params": [], "check": null, "name": "add-phase", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "value"}, "ann": {"type": "a-blank"}}]}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ast-ended"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "append-nothing-if-necessary"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "ast"}}]}}, {"type": "s-assign", "id": {"type": "s-name", "name": "ast"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-phase"}}, "args": [{"type": "s-str", "value": "Added nothing"}, {"type": "s-id", "id": {"type": "s-name", "name": "ast-ended"}}]}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "wf"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "W"}}, "field": "check-well-formed"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "ast-ended"}}]}}, {"type": "s-assign", "id": {"type": "s-name", "name": "ast-ended"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-phase"}}, "args": [{"type": "s-str", "value": "Checked well-formedness"}, {"type": "s-id", "id": {"type": "s-name", "name": "wf"}}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "checker"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 383, 49, 11527, 383, 52, 11530)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 383, 38, 11516, 383, 40, 11518)", "op": "op==", "left": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "checks"}, "right": {"type": "s-str", "value": "none"}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-builtin-module"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}]}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CH"}}, "field": "desugar-check"}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CH"}}, "field": "desugar-no-checks"}]}, "blocky": false}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "CompileResult"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "wf"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 389, 10, 11696, 389, 15, 11701)", "name": "ok", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "wf-ast"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "wrap-toplevels"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "wf"}}, "field": "code"}]}}, {"type": "s-assign", "id": {"type": "s-name", "name": "wf"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "checked"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "checker"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "wf-ast"}}]}}, {"type": "s-assign", "id": {"type": "s-name", "name": "wf-ast"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-phase"}}, "args": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 394, 42, 11889, 394, 44, 11891)", "op": "op==", "left": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "checks"}, "right": {"type": "s-str", "value": "none"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-str", "value": "Desugared (with checks)"}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-str", "value": "Desugared (skipping checks)"}]}, "blocky": false}, {"type": "s-id", "id": {"type": "s-name", "name": "checked"}}]}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imported"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "wrap-extra-imports"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "checked"}}, {"type": "s-id", "id": {"type": "s-name", "name": "libs"}}]}}, {"type": "s-assign", "id": {"type": "s-name", "name": "checked"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-phase"}}, "args": [{"type": "s-str", "value": "Added imports"}, {"type": "s-id", "id": {"type": "s-name", "name": "imported"}}]}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "scoped"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "RS"}}, "field": "desugar-scope"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "imported"}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}]}}, {"type": "s-assign", "id": {"type": "s-name", "name": "imported"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-phase"}}, "args": [{"type": "s-str", "value": "Desugared scope"}, {"type": "s-id", "id": {"type": "s-name", "name": "scoped"}}]}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "named-result"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "RS"}}, "field": "resolve-names"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "scoped"}}, "field": "ast"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}]}}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "any-errors"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 402, 41, 12366, 402, 42, 12367)", "op": "op+", "left": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "scoped"}}, "field": "errors"}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, "field": "errors"}}}, {"type": "s-assign", "id": {"type": "s-name", "name": "scoped"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "any-errors"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "module-as-string"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dummy-provides"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}]}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "computed-none"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "err"}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "unique"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "any-errors"}}]}]}]}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 406, 37, 12607, 406, 39, 12609)", "op": "opor", "left": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "collect-all"}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "collect-times"}}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "phase"}}, "args": [{"type": "s-str", "value": "Result"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, "field": "ast"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "time-now"}}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "ret"}}]}, "field": "tolist"}, "args": []}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}, "blocky": false}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-phase"}}, "args": [{"type": "s-str", "value": "Resolved names"}, {"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}]}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "spied"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "enable-spies"}, "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, "field": "ast"}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, "field": "ast"}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "default-map-visitor"}, "fields": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, "field": "foldr"}, "args": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-spy-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmt"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "stmt"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmt"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}]}, "params": [], "check": null, "name": "s-block", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-blank"}}]}]}]}]}, "blocky": false}}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provides"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dummy-provides"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}]}}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "desugared"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "D"}}, "field": "desugar"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "spied"}}]}}, {"type": "s-assign", "id": {"type": "s-name", "name": "spied"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, "field": "env"}, "field": "bindings"}, "field": "merge-now"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "desugared"}}, "field": "new-binds"}]}, {"type": "s-assign", "id": {"type": "s-name", "name": "any-errors"}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "RS"}}, "field": "check-unbound-ids-bad-assignments"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "desugared"}}, "field": "ast"}, {"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}]}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-phase"}}, "args": [{"type": "s-str", "value": "Fully desugared"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "desugared"}}, "field": "ast"}]}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "type-checked"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "any-errors"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "err"}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "unique"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "any-errors"}}]}]}]}}, {"type": "s-if-branch", "test": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "type-check"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "type-checked"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "T"}}, "field": "type-check"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "desugared"}}, "field": "ast"}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "modules"}}]}, "keyword-val": false}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "is-ok"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "type-checked"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "provides"}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "get-typed-provides"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "type-checked"}}, "field": "code"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}]}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "ok"}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "type-checked"}}, "field": "code"}, "field": "ast"}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "type-checked"}}]}, "blocky": true}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "ok"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "desugared"}}, "field": "ast"}]}]}, "blocky": false}}, {"type": "s-assign", "id": {"type": "s-name", "name": "desugared"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-phase"}}, "args": [{"type": "s-str", "value": "Type Checked"}, {"type": "s-id", "id": {"type": "s-name", "name": "type-checked"}}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "options"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "fields": [{"type": "s-data-field", "name": "should-profile", "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "should-profile"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "locator"}}]}}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "CompileResult"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "type-checked"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 450, 16, 14702, 450, 21, 14707)", "name": "ok", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "tc-ast"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "type-checked"}}, "field": "code"}}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dp-ast"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "DP"}}, "field": "desugar-post-tc"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "tc-ast"}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}]}}, {"type": "s-assign", "id": {"type": "s-name", "name": "tc-ast"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "cleaned"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "dp-ast"}}}, {"type": "s-assign", "id": {"type": "s-name", "name": "dp-ast"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-assign", "id": {"type": "s-name", "name": "cleaned"}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cleaned"}}, "field": "visit"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "letrec-visitor"}]}, "field": "visit"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "inline-lams"}]}, "field": "visit"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "set-recursive-visitor"}]}, "field": "visit"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "set-tail-visitor"}]}}, {"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "user-annotations"}]}, "block": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "cleaned"}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cleaned"}}, "field": "visit"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "strip-annotations-visitor"}]}}]}, "blocky": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-phase"}}, "args": [{"type": "s-str", "value": "Cleaned AST"}, {"type": "s-id", "id": {"type": "s-name", "name": "cleaned"}}]}, {"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "type-check"}]}, "block": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "provides"}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "get-named-provides"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}]}}]}, "blocky": true}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "final-provides"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "cr"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "JSP"}}, "field": "trace-make-compiled-pyret"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "add-phase"}}, {"type": "s-id", "id": {"type": "s-name", "name": "cleaned"}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "provides"}}, {"type": "s-id", "id": {"type": "s-name", "name": "options"}}]}, "keyword-val": false}, {"type": "s-assign", "id": {"type": "s-name", "name": "cleaned"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "canonical-provides"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "AU"}}, "field": "canonicalize-provides"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "final-provides"}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-result"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "module-as-string"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "canonical-provides"}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "named-result"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "cr"}}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "mod-result"}}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 477, 52, 16085, 477, 54, 16087)", "op": "opor", "left": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "collect-all"}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "collect-times"}}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ret"}}, "field": "tolist"}, "args": []}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}, "blocky": false}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 478, 16, 16157, 478, 22, 16163)", "name": "err", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "module-as-string"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provides"}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "computed-none"}, {"type": "s-id", "id": {"type": "s-name", "name": "type-checked"}}]}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 480, 41, 16291, 480, 43, 16293)", "op": "opor", "left": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "collect-all"}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "collect-times"}}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "phase"}}, "args": [{"type": "s-str", "value": "Result"}, {"type": "s-id", "id": {"type": "s-name", "name": "type-checked"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "time-now"}}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "ret"}}]}, "field": "tolist"}, "args": []}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}, "blocky": false}]}]}}], "blocky": true}]}, "blocky": true}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 486, 10, 16487, 486, 16, 16493)", "name": "err", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "module-as-string"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dummy-provides"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, "field": "uri"}, "args": []}]}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "computed-none"}, {"type": "s-id", "id": {"type": "s-name", "name": "wf"}}]}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 488, 35, 16621, 488, 37, 16623)", "op": "opor", "left": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "collect-all"}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "collect-times"}}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "phase"}}, "args": [{"type": "s-str", "value": "Result"}, {"type": "s-id", "id": {"type": "s-name", "name": "wf"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "time-now"}}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "ret"}}]}, "field": "tolist"}, "args": []}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}, "blocky": false}]}]}}], "blocky": true}]}}], "blocky": true}]}, "params": [], "check": null, "name": "compile-module", "blocky": true, "doc": "Invariant: provide-map maps dependency keys to URIs\n    which ALL must be keys in modules.", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "locator"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "Locator"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provide-map"}, "ann": {"type": "a-app", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "SD"}, "field": "StringDict"}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "URI"}}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "modules"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "options"}, "ann": {"type": "a-blank"}}]}, {"type": "s-type", "name": {"type": "s-name", "name": "PyretAnswer"}, "params": [], "ann": {"type": "a-any"}}, {"type": "s-type", "name": {"type": "s-name", "name": "PyretMod"}, "params": [], "ann": {"type": "a-any"}}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 500, 29, 16873, 500, 32, 16876)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "is-module-as-string"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "cr"}}]}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "CS"}}, "field": "is-err"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cr"}}, "field": "result-printer"}]}}]}, "params": [], "check": null, "name": "is-error-compilation", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "cr"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "compiled-mods"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "prog"}}, "field": "loadables"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "errors"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "compiled-mods"}}, "field": "filter"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "is-error-compilation"}}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 507, 6, 17146, 507, 11, 17151)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "program"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-standalone"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "ws"}}, {"type": "s-id", "id": {"type": "s-name", "name": "prog"}}, {"type": "s-id", "id": {"type": "s-name", "name": "options"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ans"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "right"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "L"}}, "field": "run-program"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "runtime"}}, {"type": "s-id", "id": {"type": "s-name", "name": "realm"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "program"}}, "field": "v"}, "field": "js-ast"}, "field": "to-ugly-source"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}, "keyword-val": false}, {"type": "s-id", "id": {"type": "s-name", "name": "ans"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 514, 6, 17417, 514, 16, 17427)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "left"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}, "field": "map"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "result-printer"}]}]}]}}], "blocky": true}]}, "params": [], "check": null, "name": "run-program", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ws"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "ToCompile"}}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "prog"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "CompiledProgram"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "realm"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "L"}, "field": "Realm"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "runtime"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "R"}, "field": "Runtime"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "options"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "wl"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "compile-worklist"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "finder"}}, {"type": "s-id", "id": {"type": "s-name", "name": "locator"}}, {"type": "s-id", "id": {"type": "s-name", "name": "context"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "compiled"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "compile-program-with"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "wl"}}, {"type": "s-id", "id": {"type": "s-name", "name": "starter-modules"}}, {"type": "s-id", "id": {"type": "s-name", "name": "options"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "compiled-mods"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "compiled"}}, "field": "loadables"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "errors"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "compiled-mods"}}, "field": "filter"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "is-error-compilation"}}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 528, 6, 17884, 528, 11, 17889)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "program"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-standalone"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "wl"}}, {"type": "s-id", "id": {"type": "s-name", "name": "compiled"}}, {"type": "s-id", "id": {"type": "s-name", "name": "options"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ans"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "right"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "L"}}, "field": "run-program"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "runtime"}}, {"type": "s-id", "id": {"type": "s-name", "name": "realm"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "program"}}, "field": "v"}, "field": "js-ast"}, "field": "to-ugly-source"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}, "keyword-val": false}, {"type": "s-id", "id": {"type": "s-name", "name": "ans"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 538, 6, 18217, 538, 16, 18227)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "left"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}, "field": "map"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "result-printer"}]}]}]}}], "blocky": true}]}, "params": [], "check": null, "name": "compile-and-run-locator", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "locator"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "finder"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "context"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "realm"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "runtime"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "starter-modules"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "options"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "compiled"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "compile-program-with"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "wl"}}, {"type": "s-id", "id": {"type": "s-name", "name": "starter-modules"}}, {"type": "s-id", "id": {"type": "s-name", "name": "options"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-standalone"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "wl"}}, {"type": "s-id", "id": {"type": "s-name", "name": "compiled"}}, {"type": "s-id", "id": {"type": "s-name", "name": "options"}}]}]}, "params": [], "check": null, "name": "compile-standalone", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "wl"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "starter-modules"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "options"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "natives"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "natives"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "w"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "wl"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 551, 47, 18658, 551, 48, 18659)", "op": "op+", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}, "field": "get-native-modules"}, "args": []}, "field": "map"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "path"}]}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "natives"}}}]}, "blocky": false}, "keyword-val": false}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "all-compile-problems"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "static-modules"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-obj"}}, "args": [{"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "map_list"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "w"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "wl"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loadable"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "compiled"}}, "field": "modules"}, "field": "get-value-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}, "field": "uri"}, "args": []}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Loadable"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "loadable"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 558, 10, 18871, 558, 39, 18900)", "name": "module-as-string", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rp"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "CS"}, "field": "CompileResult"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "rp"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 560, 14, 18962, 560, 22, 18970)", "name": "ok", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "code"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-field"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}, "field": "uri"}, "args": []}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-raw-code"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "code"}}, "field": "pyret-to-js-runnable"}, "args": []}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 562, 14, 19070, 562, 27, 19083)", "name": "err", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "problems"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "all-compile-problems"}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 563, 47, 19134, 563, 48, 19135)", "op": "op+", "left": {"type": "s-id", "id": {"type": "s-name", "name": "problems"}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "all-compile-problems"}}}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-field"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}, "field": "uri"}, "args": []}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-raw-code"}, "args": [{"type": "s-str", "value": "\"error\""}]}]}]}}], "blocky": true}]}}], "blocky": false}]}, "blocky": false}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "check-str"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "check-mode"}]}, "body": {"type": "s-block", "stmts": [{"type": "s-str", "value": "none"}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "checks"}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "runtime-options"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-obj"}, "args": [{"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "clist"}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-field"}, "args": [{"type": "s-str", "value": "checksFormat"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-str"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "checks-format"}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-field"}, "args": [{"type": "s-str", "value": "checks"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-str"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "check-str"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "J"}}, "field": "j-field"}, "args": [{"type": "s-str", "value": "disableAnnotationChecks"}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "options"}}, "field": "runtime-annotations"}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "j-false"}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "j-true"}}]}, "blocky": false}]}]}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "all-compile-problems"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 585, 6, 19679, 585, 16, 19689)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "left"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "all-compile-problems"}}]}]}}, {"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_ebb63d3f66ae2c7db363bc4226a0a5555574bfbeba87af54386f68b327b7a505.arr\", 586, 6, 19726, 586, 11, 19731)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "depmap"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-obj"}}, "args": [{"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "map_list"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "w"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "wl"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "deps"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "dependency-map"}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-field"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}, "field": "uri"}, "args": []}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-obj"}}, "args": [{"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "map_list"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "deps"}}, "field": "keys-now"}, "args": []}, "field": "to-list"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-field"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-str"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "deps"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, "field": "uri"}, "args": []}]}]}]}, "blocky": false}]}]}]}, "blocky": false}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "to-load"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-list"}}, "args": [{"type": "s-bool", "value": false}, {"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "map_list"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "w"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "wl"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-str"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}, "field": "uri"}, "args": []}]}]}, "blocky": false}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uris"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-obj"}}, "args": [{"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "map_list"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "w"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "wl"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "w"}}, "field": "locator"}, "field": "uri"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hashed"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SHA"}}, "field": "sha256"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-field"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "hashed"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-str"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}]}]}, "blocky": false}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "program-as-js"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-obj"}}, "args": [{"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "clist"}, "values": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-field"}}, "args": [{"type": "s-str", "value": "staticModules"}, {"type": "s-id", "id": {"type": "s-name", "name": "static-modules"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-field"}}, "args": [{"type": "s-str", "value": "depMap"}, {"type": "s-id", "id": {"type": "s-name", "name": "depmap"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-field"}}, "args": [{"type": "s-str", "value": "toLoad"}, {"type": "s-id", "id": {"type": "s-name", "name": "to-load"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-field"}}, "args": [{"type": "s-str", "value": "uris"}, {"type": "s-id", "id": {"type": "s-name", "name": "uris"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "j-field"}}, "args": [{"type": "s-str", "value": "runtimeOptions"}, {"type": "s-id", "id": {"type": "s-name", "name": "runtime-options"}}]}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "right"}}, "args": [{"type": "s-obj", "fields": [{"type": "s-data-field", "name": "js-ast", "value": {"type": "s-id", "id": {"type": "s-name", "name": "program-as-js"}}}, {"type": "s-data-field", "name": "natives", "value": {"type": "s-id", "id": {"type": "s-name", "name": "natives"}}}]}]}]}}], "blocky": false}]}, "params": [], "check": null, "name": "make-standalone", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "wl"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "compiled"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "options"}, "ann": {"type": "a-blank"}}]}]}}