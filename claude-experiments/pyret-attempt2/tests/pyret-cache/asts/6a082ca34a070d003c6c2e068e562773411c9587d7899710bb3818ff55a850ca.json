{"type": "s-program", "use": null, "provide": {"type": "s-provide-all"}, "provided-types": {"type": "s-provide-types-all"}, "provides": [], "imports": [{"type": "s-import", "import-type": {"type": "s-const-import", "mod": "ast"}, "name": {"type": "s-name", "name": "A"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "srcloc"}, "name": {"type": "s-name", "name": "S"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "parse-pyret"}, "name": {"type": "s-name", "name": "PP"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "string-dict"}, "name": {"type": "s-name", "name": "SD"}}, {"type": "s-import", "import-type": {"type": "s-const-import", "mod": "lists"}, "name": {"type": "s-name", "name": "L"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["compile-structs.arr"]}, "name": {"type": "s-name", "name": "C"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["ast-util.arr"]}, "name": {"type": "s-name", "name": "U"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["gensym.arr"]}, "name": {"type": "s-name", "name": "G"}}, {"type": "s-import", "import-type": {"type": "s-special-import", "kind": "file", "args": ["type-structs.arr"]}, "name": {"type": "s-name", "name": "T"}}], "body": {"type": "s-block", "stmts": [{"type": "s-type", "name": {"type": "s-name", "name": "ValueBind"}, "params": [], "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "ValueBind"}}, {"type": "s-type", "name": {"type": "s-name", "name": "TypeBind"}, "params": [], "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "TypeBind"}}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "string-dict"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "string-dict"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mtd"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "string-dict"}}, "values": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "names"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "global-names"}, "keyword-val": false}, {"type": "s-type", "name": {"type": "s-name", "name": "NameResolution"}, "params": [], "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "NameResolution"}}, {"ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}]}, "params": [], "check": null, "name": "mk-bind", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-record", "fields": [{"type": "a-field", "name": "id", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}}, {"type": "a-field", "name": "id-b", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}}, {"type": "a-field", "name": "id-e", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "t"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "base"}}]}, "keyword-val": false}, {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "id", "value": {"type": "s-id", "id": {"type": "s-name", "name": "t"}}}, {"type": "s-data-field", "name": "id-b", "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "mk-bind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "t"}}]}}, {"type": "s-data-field", "name": "id-e", "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "t"}}]}}]}]}, "params": [], "check": null, "name": "mk-id", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "base"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}]}, "body": {"type": "s-block", "stmts": [{"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rev-type-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rev-stmts"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}, {"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lists"}}, "field": "each"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "s"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 43, 8, 1105, 43, 36, 1133)", "name": "s-type", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "rev-stmts"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}, {"type": "s-id", "id": {"type": "s-name", "name": "rev-stmts"}}]}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 45, 8, 1185, 45, 33, 1210)", "name": "s-newtype", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "namet"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "rev-type-binds"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-newtype-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "namet"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "rev-type-binds"}}]}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 47, 8, 1303, 47, 77, 1372)", "name": "s-data", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mixins"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "variants"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shared"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "namet"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "make-atom"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "keyword-val": false}, {"type": "s-assign", "id": {"type": "s-name", "name": "rev-type-binds"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-newtype-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "namet"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "rev-type-binds"}}]}}, {"type": "s-assign", "id": {"type": "s-name", "name": "rev-stmts"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-data-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "namet"}}, {"type": "s-id", "id": {"type": "s-name", "name": "params"}}, {"type": "s-id", "id": {"type": "s-name", "name": "mixins"}}, {"type": "s-id", "id": {"type": "s-name", "name": "variants"}}, {"type": "s-id", "id": {"type": "s-name", "name": "shared"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "rev-stmts"}}]}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "rev-stmts"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}, {"type": "s-id", "id": {"type": "s-name", "name": "rev-stmts"}}]}}]}, "blocky": true}]}, "blocky": false}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-empty"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "rev-type-binds"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "type-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "rev-type-binds"}}, "field": "reverse"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-stmts"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "rev-stmts"}}, "field": "reverse"}, "args": []}, "keyword-val": false}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-type-let-expr"}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "type-binds"}}, "field": "first"}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "type-binds"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "type-binds"}}, "field": "first"}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-stmts"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "new-stmts"}}, "field": "rest"}]}]}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "desugar-toplevel-types", "blocky": true, "doc": "Treating stmts as a toplevel block, hoist any type-lets or newtype declarations\n       to the top, turning them into a type-let-expression, and generate newtypes for all\n       data expressions.", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}]}}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "is-s-contract"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-contract"}, "keyword-val": false}, {"type": "s-type", "name": {"type": "s-name", "name": "Contract"}, "params": [], "ann": {"type": "a-pred", "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "exp": {"type": "s-id", "id": {"type": "s-name", "name": "is-s-contract"}}}}, {"type": "s-data", "name": "BindingGroup", "params": [], "mixins": [], "variants": [{"type": "s-variant", "constr-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 71, 4, 2217, 71, 68, 2281)", "name": "let-binds", "members": [{"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "contracts"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Contract"}}]}}}, {"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetBind"}]}}}], "with-members": []}, {"type": "s-variant", "constr-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 72, 4, 2286, 72, 74, 2356)", "name": "letrec-binds", "members": [{"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "contracts"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Contract"}}]}}}, {"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetrecBind"}]}}}], "with-members": []}, {"type": "s-variant", "constr-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 73, 4, 2361, 73, 48, 2405)", "name": "type-let-binds", "members": [{"type": "s-variant-member", "member-type": {"type": "s-normal"}, "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "TypeLetBind"}]}}}], "with-members": []}], "shared-members": [], "check-loc": null, "check": null}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "errors"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "contracts-sd"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "c"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "contracts"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "name"}, "field": "toname"}, "args": []}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "contracts-sd"}}, "field": "get-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 86, 8, 2861, 86, 12, 2865)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "contracts-sd"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "c"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 88, 8, 2915, 88, 16, 2923)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "c2"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-redefined"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c2"}}, "field": "l"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}]}}], "blocky": false}]}, "blocky": false}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-let-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-b"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-v"}}]}]}}, {"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-var-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-var-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-b"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-v"}}]}]}}, {"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-b"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-v"}}]}]}}], "blocky": false}]}, "params": [], "check": null, "name": "rebuild-bind", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-b"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-v"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 99, 25, 3377, 99, 28, 3380)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-empty"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "funargs"}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-empty"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "annargs"}}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-bool", "value": true}]}}, {"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 100, 30, 3435, 100, 32, 3437)", "op": "opor", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-empty"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "funargs"}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-empty"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "annargs"}}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-bool", "value": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 102, 56, 3529, 102, 59, 3532)", "op": "opand", "left": {"type": "s-paren", "expr": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 102, 33, 3506, 102, 35, 3508)", "op": "op==", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "funargs"}}, "field": "first"}, "field": "id"}, "field": "toname"}, "args": []}, "right": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "annargs"}}, "field": "first"}, "field": "name"}}}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "names-match"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "funargs"}}, "field": "rest"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "annargs"}}, "field": "rest"}]}}]}, "blocky": false}]}, "params": [], "check": null, "name": "names-match", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "funargs"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Bind"}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "annargs"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "AField"}]}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 106, 25, 3680, 106, 28, 3683)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-empty"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "funargs"}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-empty"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "cargs"}}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-bool", "value": true}]}}, {"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 107, 30, 3736, 107, 32, 3738)", "op": "opor", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-empty"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "funargs"}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-empty"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "cargs"}}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-bool", "value": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 109, 55, 3827, 109, 58, 3830)", "op": "opand", "left": {"type": "s-paren", "expr": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 109, 30, 3802, 109, 32, 3804)", "op": "op==", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "funargs"}}, "field": "first"}, "field": "toname"}, "args": []}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cargs"}}, "field": "first"}, "field": "toname"}, "args": []}}}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "params-match"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "funargs"}}, "field": "rest"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cargs"}}, "field": "rest"}]}}]}, "blocky": false}]}, "params": [], "check": null, "name": "params-match", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "funargs"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "cargs"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}]}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-v"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "value"}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 114, 8, 3954, 114, 84, 4030)", "name": "s-fun", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l-fun"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ret"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-lam"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l-fun"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "params"}}, {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, {"type": "s-id", "id": {"type": "s-name", "name": "ret"}}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "value"}]}, "blocky": false}, "keyword-val": false}, {"type": "s-if", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-let-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "b"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-v"}}]}]}}, {"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-var-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-var-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "b"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-v"}}]}]}}, {"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "b"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-v"}}]}]}}], "blocky": false}]}, "params": [], "check": null, "name": "fun-to-lam", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-a-blank"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "a"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-bool", "value": true}]}}, {"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-a-tuple"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "a"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "fields"}, "field": "all"}, "args": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-blank-contract"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "elt"}}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "elt"}, "ann": {"type": "a-blank"}}]}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-bool", "value": false}]}, "blocky": false}]}, "params": [], "check": null, "name": "is-blank-contract", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ans"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "rev-binds"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Bind"}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "b"}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 134, 8, 4652, 134, 35, 4679)", "name": "s-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shadows"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "field": "toname"}, "args": []}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "contracts-sd"}}, "field": "get-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 137, 12, 4784, 137, 16, 4788)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "fun-to-lam"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 138, 12, 4832, 138, 19, 4839)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "c"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "contracts-sd"}}, "field": "remove-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}]}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-a-blank"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "ann"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, "field": "before"}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "value"}, "field": "l"}]}]}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-bad-loc"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "value"}, "field": "l"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "fun-to-lam"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "value"}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 146, 20, 5195, 146, 96, 5271)", "name": "s-fun", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l-fun"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ret"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 147, 69, 5344, 147, 72, 5347)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, "field": "all"}, "args": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-blank-contract"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "ann"}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}]}]}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-a-blank"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "ret"}}]}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-redefined"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l-fun"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "fun-to-lam"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}}, {"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-a-arrow"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}]}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ok-params"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 152, 43, 5638, 152, 46, 5641)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "params"}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "params-match"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "params"}, {"type": "s-id", "id": {"type": "s-name", "name": "params"}}]}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-inconsistent-params"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l-fun"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}, {"type": "s-bool", "value": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-bool", "value": true}]}, "blocky": true}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ok-args"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 158, 47, 5961, 158, 49, 5963)", "op": "op<>", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}, "field": "args"}, "field": "length"}, "args": []}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, "field": "length"}, "args": []}}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-inconsistent-names"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l-fun"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}, {"type": "s-bool", "value": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-bool", "value": true}]}, "blocky": true}, "keyword-val": false}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 163, 35, 6216, 163, 38, 6219)", "op": "opand", "left": {"type": "s-id", "id": {"type": "s-name", "name": "ok-params"}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "ok-args"}}}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-args"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map2"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}, "field": "args"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "shadows"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "id"}, {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild-bind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "b"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-lam"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "params"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-args"}}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}, "field": "ret"}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "fun-to-lam"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}, "blocky": false}]}}, {"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-a-arrow-argnames"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}]}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ok-params"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 177, 43, 6905, 177, 46, 6908)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "params"}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "params-match"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "params"}, {"type": "s-id", "id": {"type": "s-name", "name": "params"}}]}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-inconsistent-params"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l-fun"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}, {"type": "s-bool", "value": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-bool", "value": true}]}, "blocky": true}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ok-args"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "names-match"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "args"}}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}, "field": "args"}]}]}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-inconsistent-names"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}, {"type": "s-bool", "value": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-bool", "value": true}]}, "blocky": true}, "keyword-val": false}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 188, 35, 7477, 188, 38, 7480)", "op": "opand", "left": {"type": "s-id", "id": {"type": "s-name", "name": "ok-params"}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "ok-args"}}}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-args"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map2"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}, "field": "args"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "shadows"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "id"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "ann"}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild-bind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "b"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-lam"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "params"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-args"}}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}, "field": "ret"}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "fun-to-lam"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}, "blocky": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-non-function"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-bool", "value": true}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "fun-to-lam"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}, "blocky": true}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 205, 43, 8299, 205, 45, 8301)", "op": "opor", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-a-arrow"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}]}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-a-arrow-argnames"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-non-function"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "value"}, "field": "l"}, {"type": "s-bool", "value": false}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild-bind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "shadows"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "ann"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "value"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}, "blocky": true}]}, "blocky": false}]}, "blocky": true}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-redefined"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "id-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "fun-to-lam"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}, "blocky": true}]}}], "blocky": true}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}, "blocky": false}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "contracts-sd"}}, "field": "each-key-now"}, "args": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "c"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "contracts-sd"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "c-name"}}]}, "keyword-val": false}, {"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-unused"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "c-name"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "c-name"}, "ann": {"type": "a-blank"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "ans"}}]}, "params": [], "check": null, "name": "weave-contracts", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "contracts"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rev-binds"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, "field": "binds"}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 230, 6, 9114, 230, 11, 9119)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "c"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, "field": "contracts"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "contract-unused"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "c"}}, "field": "name"}, "field": "toname"}, "args": []}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}]}, "blocky": false}, {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 237, 10, 9307, 237, 41, 9338)", "name": "let-binds", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "contracts"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rev-binds"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "rev-binds"}}, "field": "first"}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "weave-contracts"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "contracts"}}, {"type": "s-id", "id": {"type": "s-name", "name": "rev-binds"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}, {"type": "s-bool", "value": false}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 239, 10, 9446, 239, 44, 9480)", "name": "letrec-binds", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "contracts"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rev-binds"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec"}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "rev-binds"}}, "field": "first"}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "weave-contracts"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "contracts"}}, {"type": "s-id", "id": {"type": "s-name", "name": "rev-binds"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}, {"type": "s-bool", "value": false}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 241, 10, 9586, 241, 35, 9611)", "name": "type-let-binds", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rev-binds"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-type-let-expr"}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "rev-binds"}}, "field": "first"}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "rev-binds"}}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}, {"type": "s-bool", "value": false}]}]}}], "blocky": false}]}, "blocky": true}]}, "params": [], "check": null, "name": "bind-wrap", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bg"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "expr"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-letrec-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "lrb"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}]}]}, "params": [], "check": null, "name": "add-letrec-bind", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bg"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lrb"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetrecBind"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}]}}]}, {"ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 253, 6, 9995, 253, 36, 10025)", "name": "letrec-binds", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "contracts"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "letrec-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "contracts"}}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 254, 62, 10091, 254, 63, 10092)", "op": "op+", "left": {"type": "s-id", "id": {"type": "s-name", "name": "lrbs"}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}}]}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bind-wrap"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "letrec-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "lrbs"}}]}]}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "add-letrec-binds", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bg"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lrbs"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetrecBind"}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}]}}]}, {"ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetBind"}]}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Bind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 262, 6, 10319, 262, 21, 10334)", "name": "s-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 262, 48, 10361, 262, 49, 10362)", "op": "op^", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}]}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 263, 6, 10382, 263, 39, 10415)", "name": "s-tuple-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lb"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "fields"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "as-name"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bound-expr"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binding"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 265, 10, 10482, 265, 14, 10486)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "make-atom"}, "args": [{"type": "s-str", "value": "tup"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-tuple"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "lb"}}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "fields"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Bind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 269, 18, 10633, 269, 36, 10651)", "name": "s-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "a"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 270, 18, 10675, 270, 39, 10696)", "name": "s-tuple-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}}], "blocky": false}]}, "blocky": false}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "lb"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "lb"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "lb"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 274, 10, 10835, 274, 17, 10842)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binding"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Ann"}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "ann"}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 276, 14, 10900, 276, 21, 10907)", "name": "a-blank", "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-tuple"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "lb"}}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "fields"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}, "blocky": false}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "shadows"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "id"}, {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "b"}}]}, "blocky": false}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "id"}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "binding"}}, {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}]}]}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lists"}}, "field": "fold_n"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "n"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-num", "value": "0"}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "lbs"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 284, 57, 11302, 284, 58, 11303)", "op": "op^", "left": {"type": "s-id", "id": {"type": "s-name", "name": "binding"}}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}]}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "fields"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "simplify-let-bind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "rebuild"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-tuple-get"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "bound-expr"}}, {"type": "s-id", "id": {"type": "s-name", "name": "n"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "l"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}]}]}, "blocky": false}]}}], "blocky": false}]}, "params": [], "check": null, "name": "simplify-let-bind", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rebuild"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "expr"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lbs"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetBind"}]}}]}, {"ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "simplified-lbs"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetBind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "lb"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 293, 8, 11630, 293, 31, 11653)", "name": "s-let-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "value"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "simplify-let-bind"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, {"type": "s-id", "id": {"type": "s-name", "name": "value"}}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 294, 8, 11715, 294, 31, 11738)", "name": "s-var-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "value"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "simplify-let-bind"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-var-bind"}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, {"type": "s-id", "id": {"type": "s-name", "name": "value"}}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}]}]}}], "blocky": false}]}, "blocky": false}, "keyword-val": false}, {"type": "s-cases-else", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 298, 6, 11838, 298, 33, 11865)", "name": "let-binds", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "contracts"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "let-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "contracts"}}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 299, 69, 11938, 299, 70, 11939)", "op": "op+", "left": {"type": "s-id", "id": {"type": "s-name", "name": "simplified-lbs"}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}}]}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bind-wrap"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "let-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "simplified-lbs"}}]}]}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "add-let-binds", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bg"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lbs"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetBind"}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}]}}]}, {"ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-let-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "lb"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}]}]}, "params": [], "check": null, "name": "add-let-bind", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bg"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lb"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetBind"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}]}}]}, {"ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 311, 6, 12317, 311, 27, 12338)", "name": "type-let-binds", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "type-let-binds"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "tlb"}}, {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}]}]}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bind-wrap"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "type-let-binds"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "tlb"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}]}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "add-type-let-bind", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bg"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "tlb"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "TypeLetBind"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}]}}]}, {"ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 321, 6, 12734, 321, 11, 12739)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 324, 111, 12992, 324, 112, 12993)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 324, 87, 12968, 324, 88, 12969)", "op": "op+", "left": {"type": "s-str", "value": "Impossible: well-formedness prohibits contracts being last in block (at "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "to-string"}}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cs"}}, "field": "first"}, "field": "l"}]}}, "right": {"type": "s-str", "value": ")"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 325, 6, 13005, 325, 23, 13022)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "first"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rest"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 329, 75, 13332, 329, 77, 13334)", "op": "opor", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 329, 48, 13305, 329, 50, 13307)", "op": "opor", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 329, 27, 13284, 329, 29, 13286)", "op": "opor", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-rec"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "first"}}]}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-fun"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "first"}}]}}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-data-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "first"}}]}}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-check"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "first"}}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-letrec-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bg"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "letrec-binds"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 331, 53, 13480, 331, 54, 13481)", "op": "op+", "left": {"type": "s-id", "id": {"type": "s-name", "name": "cs"}}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, "field": "contracts"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, "field": "binds"}]}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bind-wrap"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "letrec-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "cs"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}]}]}, "blocky": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-let-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bg"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "let-binds"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 337, 50, 13740, 337, 51, 13741)", "op": "op+", "left": {"type": "s-id", "id": {"type": "s-name", "name": "cs"}}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, "field": "contracts"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, "field": "binds"}]}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bind-wrap"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "bg"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "let-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "cs"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}]}]}, "blocky": false}]}, "blocky": false}]}}], "blocky": true}]}, "params": [], "check": null, "name": "add-contracts", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bg"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "cs"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-name", "id": {"type": "s-name", "name": "Contract"}}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}]}}]}, {"ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 352, 6, 14157, 352, 11, 14162)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-str", "value": "Should not get an empty block in desugar-scope-block"}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 353, 6, 14234, 353, 25, 14253)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rest-stmts"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 355, 10, 14290, 355, 38, 14318)", "name": "s-type", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-type-let-bind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "binding-group"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-type-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "params"}}, {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 357, 10, 14424, 357, 42, 14456)", "name": "s-contract", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "contracts"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "rest-stmts"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "L"}}, "field": "take-while"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-contract"}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-contracts"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "binding-group"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}, {"type": "s-id", "id": {"type": "s-name", "name": "contracts"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 360, 10, 14626, 360, 33, 14649)", "name": "s-let", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "expr"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-let-bind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "binding-group"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 362, 10, 14742, 362, 30, 14762)", "name": "s-var", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "expr"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-let-bind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "binding-group"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-var-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 364, 10, 14855, 364, 30, 14875)", "name": "s-rec", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "expr"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-letrec-bind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "binding-group"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 366, 10, 14974, 366, 82, 15046)", "name": "s-fun", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-letrec-bind"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "binding-group"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-bool", "value": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "f"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 374, 10, 15376, 374, 91, 15457)", "name": "s-data-expr", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "namet"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mixins"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "variants"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shared"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-bool", "value": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}]}, "params": [], "check": null, "name": "b", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "n"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}]}, "params": [], "check": null, "name": "bn", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "n"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "vname"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "name"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "checker-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "make-checker-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "vname"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "get-part"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-dot"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "data-blob-id"}}, {"type": "s-id", "id": {"type": "s-underscore"}}]}, "keyword-val": false}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "vname"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-part"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "vname"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "checker-name"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-part"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "checker-name"}}]}]}]}]}, "params": [], "check": null, "name": "variant-binds", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "data-blob-id"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v"}, "ann": {"type": "a-blank"}}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blob-id"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "make-atom"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "data-expr"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-data-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "namet"}}, {"type": "s-id", "id": {"type": "s-name", "name": "params"}}, {"type": "s-id", "id": {"type": "s-name", "name": "mixins"}}, {"type": "s-id", "id": {"type": "s-name", "name": "variants"}}, {"type": "s-id", "id": {"type": "s-name", "name": "shared"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind-data"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bn"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blob-id"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "data-expr"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind-data-pred"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "make-checker-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-dot"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-letrec"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blob-id"}}, {"type": "s-bool", "value": true}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "all-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "bind-data-pred"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bind-data"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "variants"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 391, 64, 16506, 391, 65, 16507)", "op": "op+", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "variant-binds"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-letrec"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "blob-id"}}, {"type": "s-bool", "value": true}]}, {"type": "s-id", "id": {"type": "s-name", "name": "v"}}]}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-letrec-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "binding-group"}}, {"type": "s-id", "id": {"type": "s-name", "name": "all-binds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 394, 10, 16601, 394, 41, 16632)", "name": "s-check", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "keyword"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-bool", "value": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-underscore"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}]}, "params": [], "check": null, "name": "b", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-letrec-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "binding-group"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-check"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "keyword"}}]}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 399, 14, 16902, 399, 19, 16907)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bind-wrap"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "binding-group"}}, {"type": "s-id", "id": {"type": "s-name", "name": "f"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 400, 14, 16953, 400, 24, 16963)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rest-stmt"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "let-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "rest-stmts"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmt"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 403, 18, 17127, 403, 42, 17151)", "name": "s-block", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}, {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmt"}}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bind-wrap"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "binding-group"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "rest-stmts"}}]}]}]}}], "blocky": false}]}, "blocky": false}]}}], "blocky": false}]}, "params": [], "check": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dsb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "let-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p"}, "ann": {"type": "a-blank"}}, "value": {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "PP"}}, "field": "surface-parse"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "str"}}, {"type": "s-str", "value": "test"}]}, "field": "block"}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "str"}, "ann": {"type": "a-blank"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "d"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "dummy-loc"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-bool", "value": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}, "value": {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bk"}, "ann": {"type": "a-blank"}}, "value": {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "e"}}]}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "e"}, "ann": {"type": "a-blank"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bs"}, "ann": {"type": "a-blank"}}, "value": {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dsb"}}, "args": [{"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "p"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "str"}}]}, "field": "stmts"}]}, "field": "visit"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "dummy-loc-visitor"}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "str"}, "ann": {"type": "a-blank"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "n"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "none"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "thunk"}, "ann": {"type": "a-blank"}}, "value": {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-lam"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-str", "value": ""}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}, {"type": "s-str", "value": ""}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bk"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "e"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "n"}}, {"type": "s-id", "id": {"type": "s-name", "name": "n"}}, {"type": "s-bool", "value": false}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "e"}, "ann": {"type": "a-blank"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "compare1"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "x"}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "15"}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "y"}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "10"}]}]}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "args": [{"type": "s-str", "value": "y"}]}, {"type": "s-bool", "value": false}]}, "keyword-val": false}, {"type": "s-check-test", "op": {"type": "s-op-is"}, "refinement": null, "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dsb"}}, "args": [{"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "p"}}, "args": [{"type": "s-str", "value": "x = 15 y = 10 y"}]}, "field": "stmts"}]}, "field": "visit"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "dummy-loc-visitor"}]}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "compare1"}}, "cause": null}, {"type": "s-check-test", "op": {"type": "s-op-is"}, "refinement": null, "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dsb"}}, "args": [{"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "p"}}, "args": [{"type": "s-str", "value": "x = 55 var y = 10 y"}]}, "field": "stmts"}]}, "field": "visit"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "dummy-loc-visitor"}]}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "x"}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "55"}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-var-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "y"}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "10"}]}]}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "args": [{"type": "s-str", "value": "y"}]}, {"type": "s-bool", "value": false}]}, "cause": null}, {"type": "s-check-test", "op": {"type": "s-op-is"}, "refinement": null, "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}, "args": [{"type": "s-str", "value": "x = 7 print(2) var y = 10 y"}]}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "x"}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "7"}]}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-app"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "args": [{"type": "s-str", "value": "print"}]}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "2"}]}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-var-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "y"}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "10"}]}]}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "args": [{"type": "s-str", "value": "y"}]}, {"type": "s-bool", "value": false}]}]}]}, {"type": "s-bool", "value": false}]}, "cause": null}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "prog"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}, "args": [{"type": "s-str", "value": "fun f(): 4 end fun g(): 5 end f()"}]}, "keyword-val": false}, {"type": "s-check-test", "op": {"type": "s-op-is"}, "refinement": null, "left": {"type": "s-id", "id": {"type": "s-name", "name": "prog"}}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "f"}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "thunk"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "4"}]}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "g"}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "thunk"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "5"}]}]}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-app"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "args": [{"type": "s-str", "value": "f"}]}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}, {"type": "s-bool", "value": false}]}, "cause": null}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p-s"}, "ann": {"type": "a-blank"}}, "value": {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-app"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "args": [{"type": "s-str", "value": "print"}]}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "e"}}]}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "e"}, "ann": {"type": "a-blank"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "pretty"}, "ann": {"type": "a-blank"}}, "value": {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "e"}}, "field": "tosource"}, "args": []}, "field": "pretty"}, "args": [{"type": "s-num", "value": "80"}]}, "field": "join-str"}, "args": [{"type": "s-str", "value": "\n"}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "e"}, "ann": {"type": "a-blank"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "prog2"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}, "args": [{"type": "s-str", "value": "print(1) fun f(): 4 end fun g(): 5 end fun h(): 6 end x = 3 print(x)"}]}, "keyword-val": false}, {"type": "s-check-test", "op": {"type": "s-op-is"}, "refinement": null, "left": {"type": "s-id", "id": {"type": "s-name", "name": "prog2"}}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "p-s"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "1"}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "f"}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "thunk"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "4"}]}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "g"}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "thunk"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "5"}]}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "h"}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "thunk"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "6"}]}]}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "x"}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "3"}]}]}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "p-s"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "args": [{"type": "s-str", "value": "x"}]}]}, {"type": "s-bool", "value": false}]}, {"type": "s-bool", "value": false}]}]}]}, "cause": null}, {"type": "s-check-test", "op": {"type": "s-op-is"}, "refinement": null, "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dsb"}}, "args": [{"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "prog2"}}]}]}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "prog2"}}, "cause": null}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each2"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p1"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "dsb"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "prog2"}}, "field": "stmts"}]}, "field": "stmts"}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p2"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "prog2"}}, "field": "stmts"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-check-test", "op": {"type": "s-op-is"}, "refinement": null, "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "p1"}}, "field": "visit"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "dummy-loc-visitor"}]}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "p2"}}, "cause": null}]}, "blocky": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "prog3"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}, "args": [{"type": "s-str", "value": "print(x) x := 3 print(x)"}]}, "keyword-val": false}, {"type": "s-check-test", "op": {"type": "s-op-is"}, "refinement": null, "left": {"type": "s-id", "id": {"type": "s-name", "name": "prog3"}}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "p-s"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "args": [{"type": "s-str", "value": "x"}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-assign"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-str", "value": "x"}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "3"}]}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "p-s"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "args": [{"type": "s-str", "value": "x"}]}]}]}]}, "cause": null}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "prog4"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}, "args": [{"type": "s-str", "value": "var x = 10 fun f(): 4 end f()"}]}, "keyword-val": false}, {"type": "s-check-test", "op": {"type": "s-op-is"}, "refinement": null, "left": {"type": "s-id", "id": {"type": "s-name", "name": "prog4"}}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-var-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "x"}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "10"}]}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-str", "value": "f"}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "thunk"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-num"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-num", "value": "4"}]}]}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-app"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "d"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "args": [{"type": "s-str", "value": "f"}]}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}, {"type": "s-bool", "value": false}]}, {"type": "s-bool", "value": false}]}, "cause": null}]}, "name": "desugar-scope-block", "blocky": false, "doc": "Treating stmts as a block, resolve scope.\n       There should be no blocks left after this stage of the compiler pipeline.", "type": "s-fun", "check-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 410, 0, 17332, 410, 6, 17338)", "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binding-group"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "BindingGroup"}}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v-params"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "params"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v-ann"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v-check"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}, "field": "option"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "_check"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "placeholder"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-str"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-str", "value": "placeholder"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-body"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "v-body"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-body"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lbs"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "simplify-let-bind"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "placeholder"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}, "field": "reverse"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "arg-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}, "field": "first"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 512, 34, 21105, 512, 35, 21106)", "op": "op^", "left": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "arg-bind"}}, "field": "b"}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}]}}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}, "field": "rest"}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 514, 8, 21160, 514, 13, 21165)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 515, 8, 21199, 515, 18, 21209)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}, "field": "rest"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}, {"type": "s-bool", "value": false}]}]}]}}], "blocky": false}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "v-params"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "v-ann"}}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "v-check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "rebuild-fun", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rebuild"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visitor"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "desugar-scope-visitor"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-extend", "super": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "default-map-visitor"}, "fields": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-block"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "let-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}]}, "params": [], "check": null, "name": "s-block", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "simplify-let-bind"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "b"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "value"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "v-body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-let-expr", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v-iterator"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "iterator"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v-ann"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-body"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "v-body"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-body"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lbs"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "simplify-let-bind"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "bind"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "value"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}, "field": "reverse"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "arg-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}, "field": "first"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 540, 71, 22344, 540, 72, 22345)", "op": "op^", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-for-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "arg-bind"}}, "field": "b"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "arg-bind"}}, "field": "value"}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}]}}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}, "field": "rest"}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 542, 10, 22403, 542, 15, 22408)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 543, 10, 22444, 543, 20, 22454)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}, "field": "rest"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}, {"type": "s-bool", "value": false}]}]}]}}], "blocky": false}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-for"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "v-iterator"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "v-ann"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-for", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "iterator"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bindings"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-body"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "v-body"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-body"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "lbs"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "simplify-let-bind"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "bind"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-str"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-str", "value": "placeholder"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}, "field": "reverse"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "arg-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}, "field": "first"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 554, 71, 23029, 554, 72, 23030)", "op": "op^", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-cases-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "field-type"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "arg-bind"}}, "field": "b"}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}]}}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}, "field": "rest"}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 556, 10, 23088, 556, 15, 23093)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 557, 10, 23129, 557, 20, 23139)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lbs"}}, "field": "rest"}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}, {"type": "s-bool", "value": false}]}]}]}}], "blocky": false}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-cases-branch"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "pat-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}]}]}, "params": [], "check": null, "name": "s-cases-branch", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "pat-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild-fun"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-fun"}, {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "params"}}, {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-fun", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild-fun"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-lam"}, {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "params"}}, {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-lam", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild-fun"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-method"}, {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "params"}}, {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-method", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "rebuild-fun"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-method-field"}, {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "params"}}, {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-method-field", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}]}, "keyword-val": false}, {"ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "ScopeResolution"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Program"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "prog"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 588, 6, 24615, 588, 90, 24699)", "name": "s-program", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_use-raw"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_provide-raw"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provide-types-raw"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provides"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imports-raw"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "str"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-str"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-underscore"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "with-imports"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 592, 10, 24781, 592, 28, 24799)", "name": "s-block", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-toplevel-types"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}]}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "desugar-toplevel-types"}}, "args": [{"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "body"}}]}]}]}]}, "blocky": false}, "keyword-val": false}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "last"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-app"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-dot"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "U"}}, "field": "checkers"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}]}, {"type": "s-str", "value": "results"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}]}, "params": [], "check": null, "name": "transform-toplevel-last", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "last"}, "ann": {"type": "a-blank"}}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "with-provides"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "with-imports"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 600, 10, 25162, 600, 28, 25180)", "name": "s-block", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "stmts"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "last"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, "field": "last"}, "args": []}, "keyword-val": false}, {"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "last"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 603, 14, 25258, 603, 55, 25299)", "name": "s-type-let-expr", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l3"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "inner-last"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body2"}}, "field": "stmts"}, "field": "last"}, "args": []}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 606, 47, 25424, 606, 48, 25425)", "op": "op+", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, "field": "take"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 606, 42, 25419, 606, 43, 25420)", "op": "op-", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, "field": "length"}, "args": []}, "right": {"type": "s-num", "value": "1"}}]}, "right": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-type-let-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l3"}}, {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body2"}}, "field": "l"}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 609, 24, 25586, 609, 25, 25587)", "op": "op+", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body2"}}, "field": "stmts"}, "field": "take"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 608, 77, 25557, 608, 78, 25558)", "op": "op-", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body2"}}, "field": "stmts"}, "field": "length"}, "args": []}, "right": {"type": "s-num", "value": "1"}}]}, "right": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "transform-toplevel-last"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l3"}}, {"type": "s-id", "id": {"type": "s-name", "name": "inner-last"}}]}]}}]}, {"type": "s-bool", "value": true}]}]}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 612, 59, 25747, 612, 60, 25748)", "op": "op+", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, "field": "take"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 612, 54, 25742, 612, 55, 25743)", "op": "op-", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "stmts"}}, "field": "length"}, "args": []}, "right": {"type": "s-num", "value": "1"}}]}, "right": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "transform-toplevel-last"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "last"}}]}]}}]}]}, "blocky": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-str", "value": "Impossible"}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "recombined"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-block"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "with-provides"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "with-provides"}}, "field": "stmts"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visited"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "recombined"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "desugar-scope-visitor"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "resolved-scope"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-program"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_use-raw"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_provide-raw"}}, {"type": "s-id", "id": {"type": "s-name", "name": "provide-types-raw"}}, {"type": "s-id", "id": {"type": "s-name", "name": "provides"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imports-raw"}}, {"type": "s-id", "id": {"type": "s-name", "name": "visited"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}]}}], "blocky": true}]}, "params": [], "check": null, "name": "desugar-scope", "blocky": false, "doc": "Remove x = e, var x = e, tuple bindings, and fun f(): e end\n       and turn them into explicit let and letrec expressions.\n       Do this recursively through the whole program.\n       Preconditions on prog:\n         - well-formed\n       Postconditions on prog:\n         - contains no s-provide in headers\n         - contains no s-let, s-var, s-data, s-tuple-bind", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "prog"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Program"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "CompileEnvironment"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "BindOrigin"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "o"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 629, 6, 26214, 629, 51, 26259)", "name": "bind-origin", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "definition-bind-site"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "definition-bind-site"}}]}}], "blocky": false}]}, "params": [], "check": null, "name": "get-origin-loc", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "o"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "BindOrigin"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "o"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 635, 6, 26348, 635, 46, 26388)", "name": "bind-origin", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "local-bind-site"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "local-bind-site"}}]}}], "blocky": false}]}, "params": [], "check": null, "name": "get-local-loc", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "o"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 642, 6, 26512, 642, 11, 26517)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "start"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 643, 6, 26539, 643, 16, 26549)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "r"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-info"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "compile-env"}}, "field": "provides-by-uri-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "start"}}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "modules"}, "field": "get"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "toname"}, "args": []}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 646, 10, 26675, 646, 14, 26679)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 646, 95, 26760, 646, 96, 26761)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 646, 79, 26744, 646, 80, 26745)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 646, 66, 26731, 646, 67, 26732)", "op": "op+", "left": {"type": "s-str", "value": "Cannot find a a provided module named  "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "to-repr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}]}}, "right": {"type": "s-str", "value": " on module "}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "start"}}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 647, 10, 26779, 647, 19, 26788)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "uri-from"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}, {"type": "s-id", "id": {"type": "s-name", "name": "r"}}, {"type": "s-id", "id": {"type": "s-name", "name": "compile-env"}}]}]}}], "blocky": false}]}}], "blocky": false}]}, "params": [], "check": null, "name": "uri-from", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "start"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "path"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "compile-env"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "full-path"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 654, 6, 26947, 654, 11, 26952)", "name": "empty", "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 655, 6, 26967, 655, 16, 26977)", "name": "link", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "r"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-env"}}, "field": "get"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "toname"}, "args": []}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 657, 10, 27036, 657, 14, 27040)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 657, 66, 27092, 657, 67, 27093)", "op": "op+", "left": {"type": "s-str", "value": "Cannot find a binding for module named "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "to-repr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}]}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 658, 10, 27116, 658, 24, 27130)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-bind"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "uri-from"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "uri"}, {"type": "s-id", "id": {"type": "s-name", "name": "r"}}, {"type": "s-id", "id": {"type": "s-name", "name": "compile-env"}}]}]}}], "blocky": false}]}}], "blocky": false}]}, "params": [], "check": null, "name": "maybe-uri-for-path", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "full-path"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "compile-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-env"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-uri-for-path"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 664, 30, 27276, 664, 31, 27277)", "op": "op+", "left": {"type": "s-id", "id": {"type": "s-name", "name": "pre-path"}}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "take"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 664, 56, 27302, 664, 57, 27303)", "op": "op-", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "length"}, "args": []}, "right": {"type": "s-num", "value": "1"}}]}}, {"type": "s-id", "id": {"type": "s-name", "name": "compile-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "mod-env"}}]}]}, "params": [], "check": null, "name": "path-uri", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "pre-path"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "path"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "compile-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-env"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-errors"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "module-bindings"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bindings"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "type-bindings"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "datatypes"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}, "keyword-val": false}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "make-atom"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}, "field": "key"}, "args": []}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "atom"}}]}]}, {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "atom", "value": {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}}, {"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}]}, "params": [], "check": null, "name": "make-anon-import-for", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "bindings"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 698, 8, 28374, 698, 20, 28386)", "name": "s-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 699, 28, 28418, 699, 31, 28421)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, "field": "has-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "is-shadowing"}}]}}, "block": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "old-loc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-origin-loc"}}, "args": [{"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "field": "origin"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "local-loc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-local-loc"}}, "args": [{"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "field": "origin"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "import-loc-opt"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 703, 34, 28623, 703, 36, 28625)", "op": "opor", "left": {"type": "s-paren", "expr": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 703, 26, 28615, 703, 28, 28617)", "op": "op==", "left": {"type": "s-id", "id": {"type": "s-name", "name": "local-loc"}}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "p"}}, "field": "l"}}}, "right": {"type": "s-paren", "expr": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 703, 48, 28637, 703, 50, 28639)", "op": "op==", "left": {"type": "s-id", "id": {"type": "s-name", "name": "local-loc"}}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "dummy-loc"}}}}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "local-loc"}}]}]}, "blocky": true}, "keyword-val": false}, {"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "shadow-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "old-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "import-loc-opt"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}]}, "blocky": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "make-atom"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binding"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-binding"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "atom"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}, "field": "key"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "binding"}}]}, {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "atom", "value": {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}}, {"type": "s-data-field", "name": "env", "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, "field": "set"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}, {"type": "s-id", "id": {"type": "s-name", "name": "binding"}}]}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 730, 8, 29387, 730, 23, 29402)", "name": "s-underscore", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "make-atom"}, "args": [{"type": "s-str", "value": "$underscore"}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}, "field": "key"}, "args": []}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-binding"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "atom"}}]}]}, {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "atom", "value": {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}}, {"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 736, 8, 29662, 736, 20, 29674)", "name": "s-atom", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binding"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-binding"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "field": "key"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "binding"}}]}, {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "atom", "value": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}}, {"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 740, 47, 29841, 740, 48, 29842)", "op": "op+", "left": {"type": "s-str", "value": "Unexpected atom type: "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "torepr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}}]}]}, "blocky": true}]}, "params": [], "check": null, "name": "make-atom-for", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "is-shadowing"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "bindings"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "make-binding"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, "field": "get"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "field": "toname"}, "args": []}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 747, 10, 30048, 747, 14, 30052)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-id", "id": {"type": "s-name", "name": "make-binding"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 749, 10, 30132, 749, 17, 30139)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shadowing"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 753, 49, 30409, 753, 51, 30411)", "op": "op==", "left": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "origin"}, "field": "uri-of-definition"}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "from-uri"}}}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "shadowing"}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-id", "id": {"type": "s-name", "name": "make-binding"}}]}]}}], "blocky": true}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-id", "id": {"type": "s-name", "name": "make-binding"}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "make-import-atom-for", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "from-uri"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "bindings"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "make-binding"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "each-key"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial"}}, "field": "globals"}, "field": "values"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "origin"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial"}}, "field": "globals"}, "field": "values"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri-of-definition"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "origin"}}, "field": "uri-of-definition"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "val-info"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial"}}, "field": "value-by-origin"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "origin"}}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "val-info"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 768, 10, 30954, 768, 14, 30958)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 768, 83, 31027, 768, 84, 31028)", "op": "op+", "left": {"type": "s-str", "value": "The value is a global that doesn't exist in any module: "}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 769, 10, 31045, 769, 31, 31066)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "val-info"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "ValueExport"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "val-info"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 771, 14, 31131, 771, 25, 31142)", "name": "v-var", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "t"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-global"}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "origin"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "uri-of-definition"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "origin"}}, "field": "original-name"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-var"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "field": "key"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "b"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "b"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-global"}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "origin"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "uri-of-definition"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "origin"}}, "field": "original-name"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "field": "key"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "b"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "b"}}]}]}, "blocky": true}]}}], "blocky": true}]}, "blocky": true}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "freeze"}, "args": []}]}, "params": [], "check": null, "name": "scope-env-from-env", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "initial"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "CompileEnvironment"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "each-key"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial"}}, "field": "globals"}, "field": "types"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "origin"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial"}}, "field": "globals"}, "field": "types"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "type-info"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial"}}, "field": "type-by-origin-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "origin"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "type-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-global"}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "origin"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "origin"}}, "field": "uri-of-definition"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "origin"}}, "field": "original-name"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-type-let"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-type-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-typ"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "type-info"}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-type-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "field": "key"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "b"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "b"}}]}]}, "blocky": true}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "freeze"}, "args": []}]}, "params": [], "check": null, "name": "type-env-from-env", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "initial"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "CompileEnvironment"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "make-mutable-string-dict"}, "args": []}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "each-key"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial"}}, "field": "globals"}, "field": "modules"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "origin"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial"}}, "field": "globals"}, "field": "modules"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-info"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial"}}, "field": "provides-by-origin-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "origin"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "module-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-global"}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "origin"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "origin"}}, "field": "uri-of-definition"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "origin"}}, "field": "original-name"}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-module-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "modules"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "module-bindings"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-module-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "field": "key"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "b"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "b"}}]}]}, "blocky": true}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "freeze"}, "args": []}]}, "params": [], "check": null, "name": "module-env-from-env", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "initial"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "CompileEnvironment"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "b"}, "field": "id"}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "b"}, "field": "shadows"}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "b"}, "field": "id"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-letrec"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "b"}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}]}]}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-visitor"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visit-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map2"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}, "field": "reverse"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetrecBind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 823, 10, 33605, 823, 39, 33634)", "name": "s-letrec-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "expr"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visit-expr"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "new-visitor"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "visit-expr"}}]}]}}], "blocky": true}]}, "blocky": false}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "visit-binds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-visitor"}}]}]}, "params": [], "check": null, "name": "resolve-letrec-binds", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visitor"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 836, 8, 33949, 836, 21, 33962)", "name": "s-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, "field": "has-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "field": "atom"}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}]}, "blocky": false}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 842, 8, 34087, 842, 20, 34099)", "name": "s-atom", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 843, 8, 34114, 843, 23, 34129)", "name": "s-underscore", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 844, 76, 34212, 844, 77, 34213)", "op": "op+", "left": {"type": "s-str", "value": "Wasn't expecting a non-s-name in resolve-names id: "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "torepr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "handle-id", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 849, 8, 34305, 849, 20, 34317)", "name": "s-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "type-env"}}, "field": "has-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "vb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "type-env"}}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vb"}}, "field": "atom"}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "TypeBinder"}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vb"}}, "field": "binder"}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 854, 14, 34476, 854, 25, 34487)", "name": "tb-type-let", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}}, {"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 855, 14, 34523, 855, 25, 34534)", "name": "tb-type-var", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-type-var"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}}], "blocky": true}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-type-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}]}]}, "blocky": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "handle-ann", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "type-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env-and-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}, "field": "env"}}, {"type": "s-data-field", "name": "cbs", "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "cb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "column-binds"}}, "field": "binds"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cb"}}, "field": "id"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cb"}}, "field": "shadows"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cb"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cb"}}, "field": "id"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cb"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}]}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-cb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cb"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cb"}}, "field": "shadows"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "cb"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "env"}}]}]}]}, "keyword-val": false}, {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}}, {"type": "s-data-field", "name": "cbs", "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "new-cb"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "cbs"}]}}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "column-binds", "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-column-binds"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "column-binds"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "env-and-binds"}}, "field": "cbs"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "column-binds"}}, "field": "table"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "visitor"}}]}]}}, {"type": "s-data-field", "name": "env", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "env-and-binds"}}, "field": "env"}}]}]}, "params": [], "check": null, "name": "handle-column-binds", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "column-binds"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "ColumnBinds"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visitor"}, "ann": {"type": "a-blank"}}]}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "include-counter"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-num", "value": "0"}}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "include-counter"}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 877, 39, 35433, 877, 40, 35434)", "op": "op+", "left": {"type": "s-id", "id": {"type": "s-name", "name": "include-counter"}}, "right": {"type": "s-num", "value": "1"}}}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 878, 17, 35454, 878, 18, 35455)", "op": "op+", "left": {"type": "s-str", "value": "$included-"}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "to-string"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "include-counter"}}]}}]}, "params": [], "check": null, "name": "include-name", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": []}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-value-export"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "values"}, "field": "get"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vname"}}, "field": "toname"}, "args": []}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-value-export"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 884, 8, 35668, 884, 12, 35672)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "name-not-provided"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "vname"}}, {"type": "s-str", "value": "value"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 887, 8, 35786, 887, 26, 35804)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "value-export"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "vbinder"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "ValueExport"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "value-export"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 889, 12, 35879, 889, 23, 35890)", "name": "v-var", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "t"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-var"}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}]}, "blocky": true}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-import-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "value-export"}}, "field": "origin"}, "field": "uri-of-definition"}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-module"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "value-export"}}, "field": "origin"}, "field": "definition-bind-site"}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "value-export"}}, "field": "origin"}, "field": "uri-of-definition"}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "value-export"}}, "field": "origin"}, "field": "original-name"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "vbinder"}}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-any"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vname"}}, "field": "l"}]}]}]}, "keyword-val": false}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}]}}], "blocky": true}]}, "params": [], "check": null, "name": "add-value-name", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "vname"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "as-name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-info"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-type-export"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "aliases"}, "field": "get"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "tname"}}, "field": "toname"}, "args": []}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-type-export"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 901, 8, 36458, 901, 12, 36462)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "name-not-provided"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "tname"}}, {"type": "s-str", "value": "type"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-env"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 904, 8, 36580, 904, 15, 36587)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "t"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "orig-name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri-of-typ"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc-of-typ"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "T"}, "field": "Type"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "t"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 906, 12, 36668, 906, 43, 36699)", "name": "t-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "module-name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "T"}, "field": "NameOrigin"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "module-name"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 908, 16, 36764, 908, 21, 36769)", "name": "local", "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "from-uri"}, {"type": "s-id", "id": {"type": "s-name", "name": "loc"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 909, 16, 36820, 909, 38, 36842)", "name": "module-uri", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-id", "id": {"type": "s-name", "name": "uri"}}, {"type": "s-id", "id": {"type": "s-name", "name": "loc"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 910, 16, 36879, 910, 29, 36892)", "name": "dependency", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "d"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "from-uri"}, {"type": "s-id", "id": {"type": "s-name", "name": "loc"}}]}]}}], "blocky": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "tname"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "from-uri"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "t"}}, "field": "l"}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-import-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "uri-of-typ"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "type-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-module"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "loc-of-typ"}}, {"type": "s-id", "id": {"type": "s-name", "name": "uri-of-typ"}}, {"type": "s-id", "id": {"type": "s-name", "name": "orig-name"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-type-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-typ"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "t"}}]}]}]}, "keyword-val": false}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}]}}], "blocky": true}]}, "params": [], "check": null, "name": "add-type-name", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "type-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "tname"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "as-name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-info"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-module-export"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "modules"}, "field": "get"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mname"}}, "field": "toname"}, "args": []}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-module-export"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 923, 8, 37433, 923, 12, 37437)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "name-not-provided"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "mname"}}, {"type": "s-str", "value": "module"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}, {"type": "s-id", "id": {"type": "s-name", "name": "module-env"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 926, 8, 37559, 926, 17, 37568)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-import-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "from-uri"}, {"type": "s-id", "id": {"type": "s-name", "name": "module-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "module-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "module-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-module"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "S"}}, "field": "builtin"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "from-uri"}, {"type": "s-id", "id": {"type": "s-name", "name": "mname"}}]}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}]}, "keyword-val": false}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}]}}], "blocky": true}]}, "params": [], "check": null, "name": "add-module-name", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "module-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mname"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "as-name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-info"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "h"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "hidings"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lists"}}, "field": "member"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "names"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "toname"}, "args": []}]}]}, "block": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "wf-err-split"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 936, 68, 38001, 936, 69, 38002)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 936, 55, 37988, 936, 56, 37989)", "op": "op+", "left": {"type": "s-str", "value": "The name "}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "toname"}, "args": []}}, "right": {"type": "s-str", "value": " is listed as hidden but was not included."}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}]}, "blocky": false}]}, "blocky": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "filter"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "n"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lists"}}, "field": "member"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "hidings"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "toname"}, "args": []}]}, {"type": "s-id", "id": {"type": "s-name", "name": "n"}}]}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "star-names", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "names"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidings"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shared-data-hidings"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, "keyword-val": false}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "NameSpec"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 951, 10, 38471, 951, 28, 38489)", "name": "s-star", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidings"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "all-names"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "dict"}}, "field": "keys-list"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imported-names"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "star-names"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "all-names"}}, {"type": "s-id", "id": {"type": "s-name", "name": "hidings"}}]}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "which-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "which-env"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "n"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "imported-names"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "adder"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "which-env"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "n"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "n"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}]}]}, "blocky": false}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 957, 10, 38786, 957, 40, 38816)", "name": "s-module-ref", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "path"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "as-name"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-uri"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "uri-from"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "from-uri"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "take"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 958, 74, 38894, 958, 75, 38895)", "op": "op-", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "length"}, "args": []}, "right": {"type": "s-num", "value": "1"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "mod-info"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-uri"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 960, 14, 38980, 960, 18, 38984)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 960, 53, 39019, 960, 54, 39020)", "op": "op+", "left": {"type": "s-str", "value": "Could not find module "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "to-repr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "path"}}]}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 961, 14, 39050, 961, 25, 39061)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p-uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "provides-by-uri-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "p-uri"}}]}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "as-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 964, 14, 39184, 964, 18, 39188)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "last"}, "args": []}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 965, 14, 39218, 965, 21, 39225)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "n"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "n"}}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "adder"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "which-env"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "last"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}]}]}}], "blocky": true}]}, "params": [], "check": null, "name": "add-name-spec", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dict"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "which-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "adder"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-some"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "hidings"}}, "field": "find"}, "args": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 972, 49, 39463, 972, 51, 39465)", "op": "op==", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "toname"}, "args": []}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "h"}, "ann": {"type": "a-blank"}}]}]}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "shared-data-hidings"}}, "field": "remove-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "which-env"}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-name-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, {"type": "s-id", "id": {"type": "s-name", "name": "dict"}}, {"type": "s-id", "id": {"type": "s-name", "name": "which-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "adder"}}]}]}, "blocky": true}]}, "params": [], "check": null, "name": "maybe-add-name-spec", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dict"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "which-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "adder"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidings"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "NameSpec"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 982, 10, 39736, 982, 22, 39748)", "name": "s-star", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "datatype-names"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "data-definitions"}, "field": "keys-list"}, "args": []}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "envs"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "envs"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dname"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "datatype-names"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-data-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "envs"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module-ref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "dname"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "hidings"}}]}]}, "blocky": false}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 987, 10, 40091, 987, 40, 40121)", "name": "s-module-ref", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "path"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "as-name"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-uri"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "uri-from"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "from-uri"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "take"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 988, 74, 40199, 988, 75, 40200)", "op": "op-", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "length"}, "args": []}, "right": {"type": "s-num", "value": "1"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "mod-info"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-uri"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 990, 14, 40285, 990, 18, 40289)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 990, 53, 40324, 990, 54, 40325)", "op": "op+", "left": {"type": "s-str", "value": "Could not find module "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "to-repr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "path"}}]}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 991, 14, 40355, 991, 25, 40366)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p-uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "provides-by-uri-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "p-uri"}}]}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "as-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 997, 14, 40695, 997, 18, 40699)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "last"}, "args": []}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 998, 14, 40729, 998, 21, 40736)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "n"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "n"}}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dname"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "last"}, "args": []}, "field": "toname"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-dt-export"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "resolve-datatype-by-uri"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "from-uri"}, {"type": "s-id", "id": {"type": "s-name", "name": "dname"}}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-dt-export"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1003, 14, 40940, 1003, 18, 40944)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1003, 74, 41000, 1003, 75, 41001)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1003, 65, 40991, 1003, 66, 40992)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1003, 57, 40983, 1003, 58, 40984)", "op": "op+", "left": {"type": "s-str", "value": "Cannot find datatype name "}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "dname"}}}, "right": {"type": "s-str", "value": " in "}}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "from-uri"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1004, 14, 41035, 1004, 23, 41044)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "typ"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-e-dts"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-te-dts"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "envs"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "imp-e-dts"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "imp-e-dts"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "imp-e-dts"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "typ"}}, "field": "variants"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "constructor-ref"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module-ref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1007, 81, 41271, 1007, 82, 41272)", "op": "op+", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "take"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1007, 76, 41266, 1007, 77, 41267)", "op": "op-", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "length"}, "args": []}, "right": {"type": "s-num", "value": "1"}}]}, "right": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "name"}]}]}}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "checker-ref"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module-ref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1008, 77, 41385, 1008, 78, 41386)", "op": "op+", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "take"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1008, 72, 41380, 1008, 73, 41381)", "op": "op-", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "length"}, "args": []}, "right": {"type": "s-num", "value": "1"}}]}, "right": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "make-checker-name"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "name"}]}]}]}}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env1"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add-name-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "constructor-ref"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "values"}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-e-dts"}}, {"type": "s-id", "id": {"type": "s-name", "name": "add-value-name"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "name"}, {"type": "s-id", "id": {"type": "s-name", "name": "hidings"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add-name-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "checker-ref"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "values"}, {"type": "s-id", "id": {"type": "s-name", "name": "env1"}}, {"type": "s-id", "id": {"type": "s-name", "name": "add-value-name"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "make-checker-name"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "name"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "hidings"}}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "typ-alias-ref"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module-ref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1012, 77, 41785, 1012, 78, 41786)", "op": "op+", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "take"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1012, 72, 41780, 1012, 73, 41781)", "op": "op-", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "length"}, "args": []}, "right": {"type": "s-num", "value": "1"}}]}, "right": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "dname"}}]}]}}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "imp-te-dts"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add-name-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "typ-alias-ref"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "aliases"}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-te-dts"}}, {"type": "s-id", "id": {"type": "s-name", "name": "add-type-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "dname"}}, {"type": "s-id", "id": {"type": "s-name", "name": "hidings"}}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "imp-e-dts"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-te-dts"}}]}]}}], "blocky": false}]}}], "blocky": true}]}, "params": [], "check": null, "name": "add-data-spec", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "envs"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidings"}, "ann": {"type": "a-blank"}}]}, {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "IncludeSpec"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "spec"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1020, 8, 42068, 1020, 36, 42096)", "name": "s-include-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-name-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "values"}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-e"}}, {"type": "s-id", "id": {"type": "s-name", "name": "add-value-name"}}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "new-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-te"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-me"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-imps"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1023, 8, 42237, 1023, 36, 42265)", "name": "s-include-type", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-type-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-name-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "aliases"}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-te"}}, {"type": "s-id", "id": {"type": "s-name", "name": "add-type-name"}}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "imp-e"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-type-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-me"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-imps"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1026, 8, 42416, 1026, 38, 42446)", "name": "s-include-module", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-module-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-name-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, "field": "modules"}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-me"}}, {"type": "s-id", "id": {"type": "s-name", "name": "add-module-name"}}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "imp-e"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-te"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-module-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-imps"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1029, 8, 42603, 1029, 45, 42640)", "name": "s-include-data", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidings"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "h"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "hidings"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "shared-data-hidings"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "toname"}, "args": []}, {"type": "s-bool", "value": true}]}]}, "blocky": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-e-dts"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-te-dts"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-data-spec"}}, "args": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "imp-e"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-te"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, {"type": "s-id", "id": {"type": "s-name", "name": "hidings"}}]}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "extraneous-hiding"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "shared-data-hidings"}}, "field": "keys-list-now"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "wf-err-split"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1035, 77, 42988, 1035, 78, 42989)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1035, 57, 42968, 1035, 58, 42969)", "op": "op+", "left": {"type": "s-str", "value": "The name "}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "extraneous-hiding"}}}, "right": {"type": "s-str", "value": " is listed as hidden but was not included."}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}]}, "blocky": false}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "imp-e-dts"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-te-dts"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-me"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-imps"}}]}]}}], "blocky": true}]}, "params": [], "check": null, "name": "add-spec", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-e"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-te"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-me"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-imps"}, "ann": {"type": "a-blank"}}], "as-name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-info"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "spec"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Import"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "imp"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1043, 8, 43244, 1043, 37, 43273)", "name": "s-import", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "file"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "local-name"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "info-key"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "U"}}, "field": "import-to-dep"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "file"}}]}, "field": "key"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-uri"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "uri-by-dep-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "info-key"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env-m"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-underscore"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "local-name"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-anon-import-for"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "local-name"}}, "field": "l"}, {"type": "s-str", "value": "$underscore_import"}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-me"}}, {"type": "s-id", "id": {"type": "s-name", "name": "module-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "module-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "local-name"}}]}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "mod-uri"}}]}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "local-name"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-me"}}, {"type": "s-id", "id": {"type": "s-name", "name": "module-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "module-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "local-name"}}]}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "mod-uri"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-header"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-import"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "file"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env-m"}}, "field": "atom"}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "imp-e"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-te"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env-m"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "new-header"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-imps"}}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1056, 8, 43910, 1056, 40, 43942)", "name": "s-import-fields", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "fields"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "file"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "synth-include-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "make-atom"}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "include-name"}}, "args": []}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "updated"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-import"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-import"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "file"}}, {"type": "s-id", "id": {"type": "s-name", "name": "synth-include-name"}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-import"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "updated"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-include-from"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "synth-include-name"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "fields"}}, "field": "map"}, "args": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-include-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module-ref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}]}]}, "params": [], "check": null, "name": "", "blocky": false, "doc": "", "type": "s-lam", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}]}]}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1063, 8, 44280, 1063, 26, 44298)", "name": "s-include", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "file"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "synth-include-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "make-atom"}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "include-name"}}, "args": []}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "updated"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-import"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-import"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "file"}}, {"type": "s-id", "id": {"type": "s-name", "name": "synth-include-name"}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-import"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "updated"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-include-from"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "synth-include-name"}}]}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-include-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-star"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-include-type"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-star"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-include-module"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-star"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}]}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1073, 8, 44777, 1073, 38, 44807)", "name": "s-include-from", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "specs"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "module-info"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-atom"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "field": "first"}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "module-bindings"}}, "field": "get-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "field": "first"}, "field": "key"}, "args": []}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "imp-me"}}, "field": "get"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "field": "first"}, "field": "toname"}, "args": []}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "first-mod-uri"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "module-info"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1086, 12, 45466, 1086, 16, 45470)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1086, 52, 45506, 1086, 53, 45507)", "op": "op+", "left": {"type": "s-str", "value": "Could not find import: "}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "field": "first"}, "field": "toname"}, "args": []}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1087, 12, 45541, 1087, 26, 45555)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-bind"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "uri"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "atom"}]}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dotted-uri"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "uri-from"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "first-mod-uri"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "field": "drop"}, "args": [{"type": "s-num", "value": "1"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1090, 12, 45702, 1090, 16, 45706)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1090, 51, 45741, 1090, 52, 45742)", "op": "op+", "left": {"type": "s-str", "value": "Could not find module "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "to-repr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1091, 12, 45770, 1091, 21, 45779)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-info"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "provides-by-uri-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "dotted-uri"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "specs-e"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "specs-te"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "specs-me"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "specs"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "mod-info"}}, {"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "specs-e"}}, {"type": "s-id", "id": {"type": "s-name", "name": "specs-te"}}, {"type": "s-id", "id": {"type": "s-name", "name": "specs-me"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-include-from"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "atom"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "specs"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "imp-imps"}}]}]}]}}], "blocky": true}]}, "params": [], "check": null, "name": "add-import", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-e"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-te"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-me"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-imps"}, "ann": {"type": "a-blank"}}], "as-name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "module-env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "i"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "imports"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-import"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "i"}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "resolve-import-names", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imports"}, "ann": {"type": "a-blank"}}]}, {"type": "s-var", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "final-visitor"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "names-visitor"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-extend", "super": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "default-map-visitor"}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "scope-env-from-env"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}]}}, {"type": "s-data-field", "name": "type-env", "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "type-env-from-env"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}]}}, {"type": "s-data-field", "name": "module-env", "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "module-env-from-env"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}]}}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "non-globals"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "filter"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, "field": "keys-list"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "vb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, "keyword-val": false}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vb"}}, "field": "origin"}, "field": "new-definition"}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "defined-vals"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "key"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "non-globals"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "vb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "key"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vb"}}, "field": "atom"}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "ValueBinder"}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vb"}}, "field": "binder"}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1133, 12, 47016, 1133, 18, 47022)", "name": "vb-let", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-defined-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "key"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}]}]}]}}, {"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1134, 12, 47078, 1134, 21, 47087)", "name": "vb-letrec", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-defined-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "key"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-letrec"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}, {"type": "s-bool", "value": true}]}]}]}}, {"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1135, 12, 47156, 1135, 18, 47162)", "name": "vb-var", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-defined-var"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "key"}}, {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}]}]}}], "blocky": true}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "non-global-types"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "filter"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, "field": "keys-list"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "tb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, "keyword-val": false}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "tb"}}, "field": "origin"}, "field": "new-definition"}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "defined-types"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "key"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "non-global-types"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "key"}}]}, "field": "atom"}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-defined-type"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "key"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "non-global-modules"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "filter"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "module-env"}, "field": "keys-list"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "module-env"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, "keyword-val": false}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mb"}}, "field": "origin"}, "field": "new-definition"}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "defined-modules"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "key"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "non-global-modules"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "module-env"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "key"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-defined-module"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "key"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "atom"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "uri"}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-assign", "id": {"type": "s-name", "name": "final-visitor"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "answer"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "defined-modules"}}, {"type": "s-id", "id": {"type": "s-name", "name": "defined-vals"}}, {"type": "s-id", "id": {"type": "s-name", "name": "defined-types"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "checks"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}, "params": [], "check": null, "name": "s-module", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "answer"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "checks"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-e"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-te"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-me"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imp-imps"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "resolve-import-names"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}, {"type": "s-id", "id": {"type": "s-name", "name": "imports"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visit-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "imp-e"}}}, {"type": "s-data-field", "name": "type-env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "imp-te"}}}, {"type": "s-data-field", "name": "module-env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "imp-me"}}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provide-vals-specs"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Provide"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "_provide"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1168, 10, 48366, 1168, 34, 48390)", "name": "s-provide", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "obj"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "specs"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1174, 14, 48703, 1174, 15, 48704)", "op": "op+", "left": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "f"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "obj"}}, "field": "fields"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-id"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "value"}]}]}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1171, 67, 48555, 1171, 68, 48556)", "op": "op+", "left": {"type": "s-str", "value": "The rhs of an object provide was not an id: "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "to-repr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "f"}}]}}]}]}, "blocky": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-name"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "l"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module-ref"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "l"}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "value"}, "field": "id"}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "f"}}, "field": "name"}]}]}]}]}]}, "blocky": true}, "right": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-data"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-star"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}]}}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "specs"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1176, 10, 48819, 1176, 33, 48842)", "name": "s-provide-all", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-star"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-data"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-star"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1180, 10, 49021, 1180, 34, 49045)", "name": "s-provide-none", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provide-types-specs"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "ProvideTypes"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "_provide-types"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1185, 10, 49183, 1185, 41, 49214)", "name": "s-provide-types", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "anns"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1189, 14, 49498, 1189, 15, 49499)", "op": "op+", "left": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "anns"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-a-name"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "ann"}]}]}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-str", "value": "Cannot use a non-name as a provided type"}]}]}, "blocky": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-type"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module-ref"}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "ann"}, "field": "l"}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "ann"}, "field": "id"}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "name"}]}]}]}]}]}, "blocky": true}, "right": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-data"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-star"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}]}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1191, 10, 49580, 1191, 40, 49610)", "name": "s-provide-types-none", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1193, 10, 49671, 1193, 39, 49700)", "name": "s-provide-types-all", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-data"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-star"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-type"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-star"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}]}]}]}]}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "all-provides"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1199, 69, 49955, 1199, 70, 49956)", "op": "op+", "left": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "provide-vals-specs"}}, {"type": "s-id", "id": {"type": "s-name", "name": "provide-types-specs"}}]}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "provides"}}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provided-modules"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provided-values"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provided-types"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provided-datatypes"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, "keyword-val": false}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lists"}}, "field": "any"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "h"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1221, 21, 51015, 1221, 23, 51017)", "op": "op==", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "toname"}, "args": []}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-hidden-name"}}}]}, "blocky": false}]}, "params": [], "check": null, "name": "is-hidden", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidden"}, "ann": {"type": "a-app", "ann": {"type": "a-name", "id": {"type": "s-name", "name": "List"}}, "args": [{"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}]}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-hidden-name"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-hidden"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}, {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add-name"}}]}]}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "which-dict"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "maybe-add-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "to-add"}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "maybe-add", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidden"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "which-dict"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-add-name"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "to-add"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-hidden"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}, {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add-name"}}]}]}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "which-dict"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "maybe-add-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "to-add"}}]}]}, "blocky": false}, {"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "hidden-todo"}}, "field": "has-key-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "maybe-add-name"}}]}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "hidden-todo"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "maybe-add-name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "maybe-add-remove-if-hidden", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidden"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidden-todo"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "which-dict"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-add-name"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "to-add"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "NameSpec"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "spec"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1242, 12, 51771, 1242, 36, 51795)", "name": "s-star", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidden"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "remote-reference-uri"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-uri-for-path"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "pre-path"}}, {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "module-env"}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "remote-reference-uri"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1245, 16, 51972, 1245, 20, 51976)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "keys"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "which-env"}}, "field": "keys-list"}, "args": []}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "h"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lists"}}, "field": "member"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "keys"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "toname"}, "args": []}]}]}, "block": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "wf-err-split"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1249, 80, 52206, 1249, 81, 52207)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1249, 67, 52193, 1249, 68, 52194)", "op": "op+", "left": {"type": "s-str", "value": "The name "}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "toname"}, "args": []}}, "right": {"type": "s-str", "value": " is listed as hidden but was not provided."}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}]}, "blocky": false}]}, "blocky": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "keys"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "which-env"}}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, "keyword-val": false}, {"type": "s-when", "test": {"type": "s-paren", "expr": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "origin"}, "field": "new-definition"}}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}, {"type": "s-id", "id": {"type": "s-name", "name": "which-dict"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "atom"}, "field": "toname"}, "args": []}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "atom"}]}]}]}, "blocky": false}]}, "blocky": false}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1258, 16, 52617, 1258, 25, 52626)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bindings-from-module"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-provided-bindings"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "provides-by-uri-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "keys"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings-from-module"}}, "field": "keys-list"}, "args": []}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "h"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "lists"}}, "field": "member"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "keys"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "toname"}, "args": []}]}]}, "block": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "wf-err-split"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1263, 80, 52968, 1263, 81, 52969)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1263, 67, 52955, 1263, 68, 52956)", "op": "op+", "left": {"type": "s-str", "value": "The name "}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "toname"}, "args": []}}, "right": {"type": "s-str", "value": " is listed as hidden but was not provided."}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}]}, "blocky": false}]}, "blocky": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "keys"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}, {"type": "s-id", "id": {"type": "s-name", "name": "which-dict"}}, {"type": "s-id", "id": {"type": "s-name", "name": "k"}}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "remote-reference-uri"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}]}]}]}, "blocky": false}]}}], "blocky": true}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1274, 12, 53578, 1274, 49, 53615)", "name": "s-module-ref", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "path"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "as-name"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "remote-reference-uri"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "path-uri"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "pre-path"}}, {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "module-env"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-uri"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "remote-reference-uri"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1277, 16, 53808, 1277, 20, 53812)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "which-env"}}, "field": "get"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "first"}, "field": "toname"}, "args": []}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1280, 20, 53930, 1280, 34, 53944)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "origin"}, "field": "new-definition"}, "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "none"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "atom"}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "origin"}, "field": "uri-of-definition"}]}, {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "field": "origin"}, "field": "original-name"}]}]}, "blocky": false}]}}, {"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1286, 20, 54188, 1286, 24, 54192)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "unbound-id"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "last"}, "args": []}, "field": "toname"}, "args": []}]}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "none"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "last"}, "args": []}, "field": "toname"}, "args": []}]}]}]}}], "blocky": true}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1290, 16, 54409, 1290, 25, 54418)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bindings-from-module"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-provided-bindings"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "provides-by-uri-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "remote-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "last"}, "args": []}, "field": "toname"}, "args": []}, "keyword-val": false}, {"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings-from-module"}}, "field": "has-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "remote-name"}}]}]}, "block": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "unbound-id"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "remote-name"}}]}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}]}, "blocky": false}, {"type": "s-tuple", "fields": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "remote-name"}}]}]}]}}], "blocky": true}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "as-name"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1299, 16, 54888, 1299, 20, 54892)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "which-dict"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}, "field": "toname"}, "args": []}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "maybe-uri"}}, {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1300, 16, 54968, 1300, 23, 54975)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "n"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "which-dict"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "n"}}, "field": "toname"}, "args": []}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "maybe-uri"}}, {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}]}]}]}}], "blocky": false}]}}], "blocky": false}]}, "params": [], "check": null, "name": "expand-name-spec", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "which-dict"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "which-bindings"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "which-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "get-provided-bindings"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "spec"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "pre-path"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "maybe-add"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add-remove-if-hidden"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}, {"type": "s-id", "id": {"type": "s-name", "name": "hidden-todo"}}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-underscore"}}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "NameSpec"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "spec"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1308, 12, 55289, 1308, 31, 55308)", "name": "s-star", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "remote-reference-uri"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-uri-for-path"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "pre-path"}}, {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "module-env"}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "remote-reference-uri"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1311, 16, 55567, 1311, 20, 55571)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "datatypes"}}, "field": "keys-list-now"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "data-expr"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "datatypes"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "expand-data-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "val-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-env"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module-ref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "data-expr"}}, "field": "name"}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "pre-path"}}, {"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}, {"type": "s-id", "id": {"type": "s-name", "name": "hidden-todo"}}]}]}, "blocky": false}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1316, 16, 55876, 1316, 32, 55892)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "remote-uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "datatyps-from-module"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "provides-by-uri-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "remote-uri"}}]}, "field": "data-definitions"}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "datatyps-from-module"}}, "field": "keys-list"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "data-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "DataExport"}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "datatyps-from-module"}}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1320, 22, 56172, 1320, 38, 56188)", "name": "d-alias", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1321, 22, 56219, 1321, 36, 56233)", "name": "d-type", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "typ"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "typ"}}, "field": "name"}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "expand-data-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "val-env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-env"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-module-ref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "data-name"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "pre-path"}}, {"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}, {"type": "s-id", "id": {"type": "s-name", "name": "hidden-todo"}}]}]}, "blocky": false}]}}], "blocky": false}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1326, 12, 56458, 1326, 49, 56495)", "name": "s-module-ref", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "path"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "as-name"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-uri"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "path-uri"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "pre-path"}}, {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "module-env"}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-uri"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1329, 16, 56646, 1329, 20, 56650)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "data-expr"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "datatypes"}}, "field": "get-value-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "first"}, "field": "toname"}, "args": []}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-datatypes"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "data-expr"}}, "field": "name"}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "data-expr"}}, "field": "namet"}]}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "data-checker-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "make-checker-name"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "data-expr"}}, "field": "name"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "data-checker-vb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "val-env"}}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "data-checker-name"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-values"}}, {"type": "s-id", "id": {"type": "s-name", "name": "data-checker-name"}}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "data-checker-vb"}}, "field": "atom"}]}]}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "data-alias-tb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "type-env"}}, "field": "get-value"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "data-expr"}}, "field": "name"}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-types"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "data-expr"}}, "field": "name"}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "data-alias-tb"}}, "field": "atom"}]}]}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "data-expr"}}, "field": "variants"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "variant-vb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "val-env"}}, "field": "get-value"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "name"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "checker-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "make-checker-name"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "name"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "variant-checker-vb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "val-env"}}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "checker-name"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-values"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "name"}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "variant-vb"}}, "field": "atom"}]}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-values"}}, {"type": "s-id", "id": {"type": "s-name", "name": "checker-name"}}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "variant-checker-vb"}}, "field": "atom"}]}]}]}, "blocky": true}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1346, 16, 57829, 1346, 25, 57838)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "datatype-name"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, "field": "last"}, "args": []}, "field": "toname"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "providing-module"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "provides-by-uri-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-datatype"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "resolve-datatype-by-uri"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}, {"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "datatype-uri"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "datatype"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-datatype"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1351, 20, 58153, 1351, 24, 58157)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "providing-module"}}, "field": "aliases"}, "field": "get"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1353, 24, 58265, 1353, 28, 58269)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1353, 105, 58346, 1353, 106, 58347)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1353, 62, 58303, 1353, 63, 58304)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1353, 46, 58287, 1353, 47, 58288)", "op": "op+", "left": {"type": "s-str", "value": "Name "}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}}, "right": {"type": "s-str", "value": " not defined as a type or datatype on "}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "uri"}}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1354, 24, 58377, 1354, 31, 58384)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "t"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "T"}, "field": "Type"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "t"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1356, 28, 58463, 1356, 57, 58492)", "name": "t-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "module-name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-paren", "expr": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "T"}}, "field": "is-module-uri"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "module-name"}}]}]}}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1357, 107, 58603, 1357, 108, 58604)", "op": "op+", "left": {"type": "s-str", "value": "Expected a remote reference: "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "to-repr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "module-name"}}]}}]}]}, "blocky": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "remote-datatype"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "provides-by-uri-value"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "module-name"}}, "field": "uri"}]}, "field": "data-definitions"}, "field": "get"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "remote-datatype"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1361, 32, 58856, 1361, 40, 58864)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "rd"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "module-name"}}, "field": "uri"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "rd"}}, "field": "typ"}]}]}}, {"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1362, 32, 58928, 1362, 36, 58932)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1363, 121, 59057, 1363, 122, 59058)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1363, 84, 59020, 1363, 85, 59021)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1363, 68, 59004, 1363, 69, 59005)", "op": "op+", "left": {"type": "s-str", "value": "Cannot re-provide datatype "}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}}, "right": {"type": "s-str", "value": " because it isn't a datatype in "}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "uri"}}}]}]}}], "blocky": false}]}}], "blocky": true}]}}], "blocky": false}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1367, 20, 59168, 1367, 34, 59182)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "datatype"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}, {"type": "s-id", "id": {"type": "s-name", "name": "datatype"}}]}]}}], "blocky": false}, "keyword-val": false}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-paren", "expr": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "providing-module"}}, "field": "values"}, "field": "has-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-values"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "datatype-uri"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "add-value-if-defined", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-datatypes"}}, {"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "uri"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}]}]}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-value-if-defined"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "make-checker-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}]}]}, {"type": "s-when", "test": {"type": "s-paren", "expr": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "providing-module"}}, "field": "aliases"}, "field": "has-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}]}}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-add"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-types"}}, {"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "datatype-uri"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "datatype-name"}}]}]}]}]}, "blocky": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "v"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "datatype"}}, "field": "variants"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-value-if-defined"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "name"}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-value-if-defined"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "make-checker-name"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "v"}}, "field": "name"}]}]}]}, "blocky": true}]}}], "blocky": true}]}}], "blocky": false}]}, "params": [], "check": null, "name": "expand-data-spec", "blocky": true, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "val-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "type-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "spec"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "pre-path"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidden"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidden-todo"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "ProvideSpec"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "provide-spec"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1389, 12, 60186, 1389, 47, 60221)", "name": "s-provide-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "expand-name-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-values"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "env"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "values"}, {"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, {"type": "s-id", "id": {"type": "s-name", "name": "path"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1391, 12, 60339, 1391, 47, 60374)", "name": "s-provide-type", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "expand-name-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-types"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "type-env"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "aliases"}, {"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, {"type": "s-id", "id": {"type": "s-name", "name": "path"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1393, 12, 60502, 1393, 49, 60539)", "name": "s-provide-module", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "expand-name-spec"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provided-modules"}}, {"type": "s-id", "id": {"type": "s-name", "name": "module-bindings"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "module-env"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "modules"}, {"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, {"type": "s-id", "id": {"type": "s-name", "name": "path"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1395, 12, 60673, 1395, 55, 60716)", "name": "s-provide-data", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidden"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "hidden-todo"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, "keyword-val": false}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "h"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "hidden-todo"}}, "field": "set-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "toname"}, "args": []}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "some"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "h"}}, "field": "l"}]}]}]}, "blocky": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "expand-data-spec"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "env"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "type-env"}, {"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}, {"type": "s-id", "id": {"type": "s-name", "name": "path"}}, {"type": "s-id", "id": {"type": "s-name", "name": "hidden"}}, {"type": "s-id", "id": {"type": "s-name", "name": "hidden-todo"}}]}, {"type": "s-for", "iterator": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "each-key-now"}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "key"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "hidden-todo"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "hidden-todo"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "key"}}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1403, 18, 61125, 1403, 22, 61129)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1404, 18, 61159, 1404, 32, 61173)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "wf-err-split"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1405, 71, 61248, 1405, 72, 61249)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1405, 65, 61242, 1405, 66, 61243)", "op": "op+", "left": {"type": "s-str", "value": "The name "}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "key"}}}, "right": {"type": "s-str", "value": " is listed as hidden but was not provided."}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}]}}], "blocky": false}]}, "blocky": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}, "blocky": true}]}, "params": [], "check": null, "name": "expand", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provide-spec"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "path"}, "ann": {"type": "a-blank"}}]}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "pb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "all-provides"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provide-spec"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "pb"}}, "field": "specs"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "expand"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "provide-spec"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "pb"}}, "field": "path"}]}]}, "blocky": false}]}, "blocky": false}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name-spec"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "maybe-uri"}}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1420, 12, 61678, 1420, 16, 61682)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-local-ref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1421, 12, 61737, 1421, 21, 61746)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "uri"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-remote-ref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "uri"}}, {"type": "s-id", "id": {"type": "s-name", "name": "atom"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}]}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "maker"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name-spec"}}]}]}, "params": [], "check": null, "name": "make-provide-spec", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maybe-uri"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom"}, "ann": {"type": "a-blank"}}], "as-name": null}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "maker"}, "ann": {"type": "a-blank"}}]}, {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "each"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "datatypes"}}, "field": "keys-list-now"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "dt"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "datatypes"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "provided-datatypes"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "dt"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "none"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "dt"}}, "field": "namet"}]}]}]}, "blocky": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "final-val-provides"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "provided-values"}}, "field": "keys-list-now"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-provide-spec"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "provided-values"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "k"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-underscore"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "final-type-provides"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "provided-types"}}, "field": "keys-list-now"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-provide-spec"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "provided-types"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "k"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-type"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-underscore"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "final-module-provides"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "provided-modules"}}, "field": "keys-list-now"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-provide-spec"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "provided-modules"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "k"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-module"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-underscore"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "final-datatype-provides"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "provided-datatypes"}}, "field": "keys-list-now"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-provide-spec"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "provided-datatypes"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "k"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "k"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-data"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "one-true-provide"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-block"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1444, 125, 62848, 1444, 126, 62849)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1444, 101, 62824, 1444, 102, 62825)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1444, 79, 62802, 1444, 80, 62803)", "op": "op+", "left": {"type": "s-id", "id": {"type": "s-name", "name": "final-val-provides"}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "final-type-provides"}}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "final-module-provides"}}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "final-datatype-provides"}}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-program"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_use"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-none"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-provide-types-none"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "one-true-provide"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "imp-imps"}}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "visit-body"}}]}]}, "params": [], "check": null, "name": "s-program", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_use"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_provide"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_provide-types"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "provides"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "imports"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "e"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "te"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bs"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "e"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "te"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bs"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "TypeLetBind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1452, 12, 63234, 1452, 46, 63268)", "name": "s-type-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "e"}}}, {"type": "s-data-field", "name": "te", "value": {"type": "s-id", "id": {"type": "s-name", "name": "te"}}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-types"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "te"}}, {"type": "s-data-field", "name": "atoms", "value": {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "param"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "params"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "param"}}, {"type": "s-bool", "value": false}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "type-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "param"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-type-var"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-none"}]}]}, "keyword-val": false}, {"type": "s-obj", "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}}, {"type": "s-data-field", "name": "atoms", "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "atoms"}]}}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visited-ann"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "e"}}}, {"type": "s-data-field", "name": "type-env", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "new-types"}}, "field": "env"}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "full-typ"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "is-empty"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "params"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "U"}}, "field": "ann-to-typ"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "visited-ann"}}, {"type": "s-id", "id": {"type": "s-name", "name": "thismodule-uri"}}, {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "tbody"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "U"}}, "field": "ann-to-typ"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "visited-ann"}}, {"type": "s-id", "id": {"type": "s-name", "name": "thismodule-uri"}}, {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "tparams"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "new-types"}}, "field": "atoms"}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "T"}}, "field": "t-var"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-bool", "value": false}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "T"}}, "field": "t-forall"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "tparams"}}, {"type": "s-id", "id": {"type": "s-name", "name": "tbody"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-bool", "value": false}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-bool", "value": false}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "field": "te"}, {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "type-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-type-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-typ"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "full-typ"}}]}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-type-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "new-types"}}, "field": "atoms"}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "visited-ann"}}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-id", "id": {"type": "s-name", "name": "e"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "new-bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1473, 12, 64449, 1473, 43, 64480)", "name": "s-newtype-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "tname"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env-t"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "te"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "type-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-type-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-none"}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "tname"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "e"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "tname"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-newtype-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env-t"}}, "field": "atom"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env-t"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "new-bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}]}]}]}}], "blocky": true}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visit-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "e"}}}, {"type": "s-data-field", "name": "type-env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "te"}}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-type-let-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "visit-body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-type-let-expr", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "e"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bs"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "b"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "e"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bs"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "LetBind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "b"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1490, 12, 65337, 1490, 38, 65363)", "name": "s-let-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "expr"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visited-ann"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "e"}}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "id"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "shadows"}, {"type": "s-id", "id": {"type": "s-name", "name": "e"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "id"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "visited-ann"}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visit-expr"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "e"}}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "shadows"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "visited-ann"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "visit-expr"}}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "new-bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1501, 12, 65880, 1501, 38, 65906)", "name": "s-var-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "expr"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visited-ann"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "e"}}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "id"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "shadows"}, {"type": "s-id", "id": {"type": "s-name", "name": "e"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "id"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-var"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "visited-ann"}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visit-expr"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "e"}}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-var-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "shadows"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "visited-ann"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "visit-expr"}}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "new-bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}]}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}}], "blocky": true}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visit-binds"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bs"}}, "field": "reverse"}, "args": []}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visit-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "e"}}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-let-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "visit-binds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "visit-body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-let-expr", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-visitor"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "resolve-letrec-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}, {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visit-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "new-visitor"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-letrec"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-binds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "visit-body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-letrec", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "fbs"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "fb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "binds"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "fbs"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "ForBind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "fb"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1527, 12, 66998, 1527, 37, 67023)", "name": "s-for-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "val"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "id"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "shadows"}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "id"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "shadows"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "visit-val"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "val"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-fb"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-for-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-bind"}}, {"type": "s-id", "id": {"type": "s-name", "name": "visit-val"}}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "new-fb"}}, {"type": "s-id", "id": {"type": "s-name", "name": "fbs"}}]}]}]}}], "blocky": true}]}, "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-for"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "iter"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "fbs"}}, "field": "reverse"}, "args": []}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-for", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "iter"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, "field": "map"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "bind"}]}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "id"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "shadows"}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "id"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-args"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map2"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "at"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}, "field": "reverse"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "CasesBind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1547, 12, 68065, 1547, 42, 68095)", "name": "s-cases-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "typ"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binding"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Bind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "binding"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1549, 16, 68150, 1549, 44, 68178)", "name": "s-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l3"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shadows"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-cases-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "typ"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l3"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "at"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}]}]}]}]}}], "blocky": false}]}}], "blocky": false}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-cases-branch"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "pat-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-args"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}]}]}, "params": [], "check": null, "name": "s-cases-branch", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "pat-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "param"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "params"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "param"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "type-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "param"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-type-var"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-none"}]}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "with-params"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "type-env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "result"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-data-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "namet"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}, "field": "reverse"}, "args": []}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mixins"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "variants"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "shared-members"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}, "field": "option"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "_check"}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "datatypes"}}, "field": "set-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-id", "id": {"type": "s-name", "name": "result"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "result"}}]}, "params": [], "check": null, "name": "s-data-expr", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "namet"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mixins"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "variants"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shared-members"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ty-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ty-atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "param"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "params"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "param"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "type-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "param"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-type-var"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-none"}]}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "with-params"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "type-env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "ty-env"}}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "id"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "shadows"}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "id"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}]}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-args"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map2"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "at"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}, "field": "reverse"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Bind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1588, 12, 70132, 1588, 41, 70161)", "name": "s-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shadows"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann2"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "at"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann2"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}]}]}}], "blocky": false}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "with-params-and-args"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params-and-args"}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "saved-name-errors"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-check"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}, "field": "option"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "_check"}}]}, "keyword-val": false}, {"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "saved-name-errors"}}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-lam"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ty-atoms"}}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "new-args"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-lam", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ty-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ty-atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "param"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "params"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "param"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "type-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "param"}}, "field": "l"}, {"type": "s-id", "id": {"type": "s-name", "name": "param"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-type-var"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-none"}]}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "with-params"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "type-env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "ty-env"}}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "id"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "shadows"}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "id"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}]}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-args"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map2"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "at"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}, "field": "reverse"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Bind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1616, 12, 71696, 1616, 41, 71725)", "name": "s-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shadows"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann2"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "shadows"}}, {"type": "s-id", "id": {"type": "s-name", "name": "at"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann2"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}]}]}}], "blocky": false}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-check"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}, "field": "option"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "_check"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-method"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ty-atoms"}}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "new-args"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-method", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ty-env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ty-atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "param"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "params"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "param"}}, {"type": "s-bool", "value": false}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "type-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "param"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-type-var"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "tb-none"}]}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "with-params"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "type-env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "ty-env"}}}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "fold"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "acc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}]}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-tuple-bind", "fields": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "env"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atoms"}, "ann": {"type": "a-blank"}}], "as-name": null}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "acc"}}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "id"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "shadows"}, {"type": "s-id", "id": {"type": "s-name", "name": "env"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "l"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "id"}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "field": "ann"}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}]}]}, "keyword-val": false}, {"type": "s-tuple", "fields": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "env"}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}]}]}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-args"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-for", "iterator": {"type": "s-id", "id": {"type": "s-name", "name": "map2"}}, "bindings": [{"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "a"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}}, {"type": "s-for-bind", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "at"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atoms"}}, "field": "reverse"}, "args": []}}], "ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Bind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "a"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1639, 12, 72923, 1639, 41, 72952)", "name": "s-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shadows"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann2"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "shadows"}}, {"type": "s-id", "id": {"type": "s-name", "name": "at"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann2"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}]}]}}], "blocky": false}]}, "blocky": false}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-body"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "body"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-id", "id": {"type": "s-name", "name": "env"}}}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-check"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}, "field": "option"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "_check"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-method-field"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ty-atoms"}}, "field": "reverse"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "new-args"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "with-params"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "doc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-body"}}, {"type": "s-id", "id": {"type": "s-name", "name": "_check-loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-check"}}, {"type": "s-id", "id": {"type": "s-name", "name": "blocky"}}]}]}, "params": [], "check": null, "name": "s-method-field", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "params"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "doc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "body"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check-loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "_check"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "blocky"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1647, 10, 73340, 1647, 23, 73353)", "name": "s-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, "field": "has-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-assign"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "field": "atom"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-assign"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}, "blocky": false}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1656, 10, 73730, 1656, 25, 73745)", "name": "s-underscore", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-assign"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "expr"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1658, 90, 73885, 1658, 91, 73886)", "op": "op+", "left": {"type": "s-str", "value": "Wasn't expecting a non-s-name in resolve-names for assignment: "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "torepr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "s-assign", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "expr"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Expr"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "obj"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1663, 10, 73991, 1663, 22, 74003)", "name": "s-id", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1665, 14, 74055, 1665, 26, 74067)", "name": "s-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1674, 42, 74424, 1674, 45, 74427)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, "field": "has-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}]}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "module-env"}, "field": "has-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mod-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "module-env"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "keyword-val": false}, {"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "value-by-uri"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "uri"}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1677, 20, 74614, 1677, 24, 74618)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "wf-err-split"}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1678, 125, 74747, 1678, 126, 74748)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1678, 95, 74717, 1678, 96, 74718)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1678, 80, 74702, 1678, 81, 74703)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1678, 73, 74695, 1678, 74, 74696)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1678, 69, 74691, 1678, 70, 74692)", "op": "op+", "left": {"type": "s-str", "value": "The module "}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "s"}}}, "right": {"type": "s-str", "value": " ("}}, "right": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "uri"}}, "right": {"type": "s-str", "value": ") has no provided member "}}, "right": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "l2"}}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-modref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "atom"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "uri"}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1680, 20, 74876, 1680, 28, 74884)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ve"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "ValueExport"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "ve"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1682, 24, 74957, 1682, 35, 74968)", "name": "v-var", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "t"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-var-modref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "atom"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "uri"}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-modref"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "atom"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mod-bind"}}, "field": "uri"}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}, "blocky": false}]}}], "blocky": true}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-dot"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "obj"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}, "blocky": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-dot"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "obj"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}, "blocky": true}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-dot"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "obj"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "s-dot", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "obj"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1699, 10, 75629, 1699, 23, 75642)", "name": "s-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, "field": "get"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1701, 14, 75707, 1701, 18, 75711)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, "field": "has-key"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "block": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "type-id-used-as-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-dot", "obj": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, "field": "get-value"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "field": "origin"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}]}, "blocky": true}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "names"}}, "field": "s-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1706, 14, 75955, 1706, 22, 75963)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "vb"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "ValueBinder"}, "val": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vb"}}, "field": "binder"}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1708, 18, 76032, 1708, 24, 76038)", "name": "vb-let", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vb"}}, "field": "atom"}]}]}}, {"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1709, 18, 76080, 1709, 27, 76089)", "name": "vb-letrec", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-letrec"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vb"}}, "field": "atom"}, {"type": "s-bool", "value": false}]}]}}, {"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1710, 18, 76145, 1710, 24, 76151)", "name": "vb-var", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-var"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "vb"}}, "field": "atom"}]}]}}], "blocky": false}]}}], "blocky": true}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1713, 10, 76221, 1713, 22, 76233)", "name": "s-atom", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1714, 10, 76261, 1714, 25, 76276)", "name": "s-underscore", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1715, 78, 76372, 1715, 79, 76373)", "op": "op+", "left": {"type": "s-str", "value": "Wasn't expecting a non-s-name in resolve-names id: "}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "torepr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "s-id", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-letrec"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "handle-id"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}, {"type": "s-bool", "value": false}]}]}, "params": [], "check": null, "name": "s-id-letrec", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-var"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "handle-id"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}]}]}, "params": [], "check": null, "name": "s-id-var", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "new-bind"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-cases", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Bind"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "bind"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1722, 10, 76679, 1722, 40, 76709)", "name": "s-bind", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l2"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shadows"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "atom-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "make-atom-for"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-bool", "value": true}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "env"}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "value-bind"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bo-local"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "vb-let"}, {"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l2"}}, {"type": "s-id", "id": {"type": "s-name", "name": "shadows"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "atom-env"}}, "field": "atom"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}}], "blocky": false}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-variant-member"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "typ"}}, {"type": "s-id", "id": {"type": "s-name", "name": "new-bind"}}]}]}, "params": [], "check": null, "name": "s-variant-member", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "typ"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bind"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1731, 10, 77064, 1731, 25, 77079)", "name": "s-underscore", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-underscore"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-bind"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "shadows"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}]}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "raise"}}, "args": [{"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1733, 98, 77230, 1733, 99, 77231)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1733, 89, 77221, 1733, 90, 77222)", "op": "op+", "left": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1733, 78, 77210, 1733, 79, 77211)", "op": "op+", "left": {"type": "s-str", "value": "Should not reach non-underscore bindings in resolve-names: "}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "field": "key"}, "args": []}}, "right": {"type": "s-str", "value": " at "}}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "torepr"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}}]}]}, "blocky": false}]}, "params": [], "check": null, "name": "s-bind", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "shadows"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-blank"}]}, "params": [], "check": null, "name": "a-blank", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-any"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}]}]}, "params": [], "check": null, "name": "a-any", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "handle-ann"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "type-env"}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}]}, "params": [], "check": null, "name": "a-name", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-arrow"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ret"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "parens"}}]}]}, "params": [], "check": null, "name": "a-arrow", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ret"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "parens"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-arrow-argnames"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ret"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "parens"}}]}]}, "params": [], "check": null, "name": "a-arrow-argnames", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ret"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "parens"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-method"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ret"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}, "params": [], "check": null, "name": "a-method", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ret"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-record"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "fields"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}]}, "params": [], "check": null, "name": "a-record", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "fields"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-app"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "args"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}]}, "params": [], "check": null, "name": "a-app", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "args"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-pred"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "exp"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}, "params": [], "check": null, "name": "a-pred", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "exp"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-cases-else", "typ": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Name"}, "val": {"type": "s-id", "id": {"type": "s-name", "name": "obj"}}, "branches": [{"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1749, 10, 78133, 1749, 28, 78151)", "name": "s-name", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "nameloc"}, "ann": {"type": "a-blank"}}}, {"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "s"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-cases", "typ": {"type": "a-name", "id": {"type": "s-name", "name": "Option"}}, "val": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "field": "module-env"}, "field": "get"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "s"}}]}, "branches": [{"type": "s-singleton-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1751, 14, 78217, 1751, 18, 78221)", "name": "none", "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-dot"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "obj"}}, {"type": "s-id", "id": {"type": "s-name", "name": "field"}}]}]}}, {"type": "s-cases-branch", "pat-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1752, 14, 78297, 1752, 22, 78305)", "name": "some", "args": [{"type": "s-cases-bind", "field-type": "s-cases-bind-normal", "bind": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "mb"}, "ann": {"type": "a-blank"}}}], "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-dot"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "mb"}}, "field": "atom"}, {"type": "s-id", "id": {"type": "s-name", "name": "field"}}]}]}}], "blocky": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "name-errors"}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "underscore-as-ann"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "obj"}}, "field": "l"}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}]}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-dot"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "obj"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "field"}}]}]}, "blocky": true}]}, "params": [], "check": null, "name": "a-dot", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "obj"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "field"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-field"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ann"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}, "params": [], "check": null, "name": "a-field", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ann"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-table-select"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "columns"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "table"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}]}, "params": [], "check": null, "name": "s-table-select", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "columns"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "table"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "column-binds-and-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "handle-column-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "column-binds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-table-extend"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "column-binds-and-env"}}, "field": "column-binds"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "extensions"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "column-binds-and-env"}}, "field": "env"}}]}]}]}]}]}, "params": [], "check": null, "name": "s-table-extend", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "column-binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "extensions"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "column-binds-and-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "handle-column-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "column-binds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-table-update"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "column-binds-and-env"}}, "field": "column-binds"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "updates"}}, "field": "map"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-underscore"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "column-binds-and-env"}}, "field": "env"}}]}]}]}]}]}, "params": [], "check": null, "name": "s-table-update", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "column-binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "updates"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "column-binds-and-env"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "handle-column-binds"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "column-binds"}}, {"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-table-filter"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "column-binds-and-env"}}, "field": "column-binds"}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "pred"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-id", "id": {"type": "s-name", "name": "self"}}, "fields": [{"type": "s-data-field", "name": "env", "value": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "column-binds-and-env"}}, "field": "env"}}]}]}]}]}, "params": [], "check": null, "name": "s-table-filter", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "column-binds"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "pred"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-table-order"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "l"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "table"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "ordering"}}]}]}, "params": [], "check": null, "name": "s-table-order", "blocky": false, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "l"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "table"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ordering"}, "ann": {"type": "a-blank"}}]}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "resolved-names"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "p"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "names-visitor"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "name-errors"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "computed-env"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "module-bindings"}}, {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, {"type": "s-id", "id": {"type": "s-name", "name": "datatypes"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "module-env"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "env"}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "final-visitor"}}, "field": "type-env"}]}]}]}, "params": [], "check": null, "name": "resolve-names", "blocky": false, "doc": "Turn all s-names into s-atom or s-global\n       Requires:\n        1. desugar-scope\n       Preconditions on p:\n        -  Contains no s-block, s-let, s-var, s-data, s-rec\n       Postconditions on p (in addition to preconditions):\n        -  Contains no s-name in names", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Program"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "thismodule-uri"}, "ann": {"type": "a-name", "id": {"type": "s-name", "name": "String"}}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "initial-env"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "CompileEnvironment"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-var", "name": {"type": "s-bind", "shadows": true, "name": {"type": "s-name", "name": "errors"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-id", "id": {"type": "s-name", "name": "list"}}, "values": []}}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "bindings"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "resolved"}}, "field": "env"}, "field": "bindings"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "type-bindings"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "resolved"}}, "field": "env"}, "field": "type-bindings"}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "module-bindings"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "resolved"}}, "field": "env"}, "field": "module-bindings"}, "keyword-val": false}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-assign", "id": {"type": "s-name", "name": "errors"}, "value": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1792, 36, 80197, 1792, 37, 80198)", "op": "op^", "left": {"type": "s-id", "id": {"type": "s-name", "name": "err"}}, "right": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "link"}}, "args": [{"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}}}]}, "params": [], "check": null, "name": "add-error", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "err"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-underscore"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-error"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "underscore-as-expr"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}]}]}, {"type": "s-bool", "value": false}]}}, {"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1797, 30, 80366, 1797, 33, 80369)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "globals"}, "field": "values"}, "field": "has-key"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "field": "toname"}, "args": []}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-bool", "value": false}]}}, {"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, "field": "has-key-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "field": "key"}, "args": []}]}, "body": {"type": "s-block", "stmts": [{"type": "s-bool", "value": false}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-bool", "value": true}]}, "blocky": true}]}, "params": [], "check": null, "name": "handle-id", "blocky": false, "doc": "", "type": "s-fun", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}]}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "ast"}}, "field": "visit"}, "args": [{"type": "s-extend", "super": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "default-iter-visitor"}, "fields": [{"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "handle-id"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-id", "id": {"type": "s-name", "name": "loc"}}]}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-error"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "unbound-id"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}]}]}]}, "blocky": false}, {"type": "s-bool", "value": true}]}, "params": [], "check": null, "name": "s-id", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "handle-id"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-id", "id": {"type": "s-name", "name": "loc"}}]}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-error"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "unbound-id"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-var"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}]}]}]}, "blocky": false}, {"type": "s-bool", "value": true}]}, "params": [], "check": null, "name": "s-id-var", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "handle-id"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-id", "id": {"type": "s-name", "name": "loc"}}]}, "block": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-error"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "unbound-id"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-id-letrec"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-id", "id": {"type": "s-name", "name": "safe"}}]}]}]}]}, "blocky": false}, {"type": "s-bool", "value": true}]}, "params": [], "check": null, "name": "s-id-letrec", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "safe"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id-k"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "field": "key"}, "args": []}, "keyword-val": false}, {"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, "field": "has-key-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id-k"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "binding"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "bindings"}}, "field": "get-value-now"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id-k"}}]}, "keyword-val": false}, {"type": "s-when", "test": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "not"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "is-vb-var"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "binding"}}, "field": "binder"}]}]}, "block": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "var-loc"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "get-origin-loc"}}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "binding"}}, "field": "origin"}]}, "keyword-val": false}, {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-error"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "bad-assignment"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "s-assign"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, {"type": "s-id", "id": {"type": "s-name", "name": "value"}}]}, {"type": "s-id", "id": {"type": "s-name", "name": "var-loc"}}]}]}]}, "blocky": true}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-error"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "unbound-var"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "field": "toname"}, "args": []}, {"type": "s-id", "id": {"type": "s-name", "name": "loc"}}]}]}]}, "blocky": false}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "value"}}, "field": "visit"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "self"}}]}]}, "params": [], "check": null, "name": "s-assign", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "value"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-underscore"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-error"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "underscore-as-ann"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "field": "l"}]}]}]}}, {"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1843, 39, 81988, 1843, 42, 81991)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-type-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "globals"}, "field": "types"}, "field": "has-key"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "field": "toname"}, "args": []}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}}, {"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "type-bindings"}}, "field": "has-key-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "id"}}, "field": "key"}, "args": []}]}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-error"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "unbound-type-id"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "id"}}]}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}, "blocky": true}, {"type": "s-bool", "value": true}]}, "params": [], "check": null, "name": "a-name", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "id"}, "ann": {"type": "a-blank"}}]}, {"ann": {"type": "a-blank"}, "body": {"type": "s-block", "stmts": [{"type": "s-if-else", "branches": [{"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-underscore"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "body": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-error"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "underscore-as-ann"}, "args": [{"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "field": "l"}]}]}]}}, {"type": "s-if-branch", "test": {"type": "s-op", "op-l": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1856, 41, 82437, 1856, 44, 82440)", "op": "opand", "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "is-s-type-global"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}, "right": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "initial-env"}}, "field": "globals"}, "field": "types"}, "field": "has-key"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "field": "toname"}, "args": []}]}}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}}, {"type": "s-if-branch", "test": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "module-bindings"}}, "field": "has-key-now"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "name"}}, "field": "key"}, "args": []}]}, "body": {"type": "s-block", "stmts": [{"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}}], "else": {"type": "s-block", "stmts": [{"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "add-error"}}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "unbound-type-id"}, "args": [{"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "A"}}, "field": "a-name"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "loc"}}, {"type": "s-id", "id": {"type": "s-name", "name": "name"}}]}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "nothing"}}]}, "blocky": true}, {"type": "s-bool", "value": true}]}, "params": [], "check": null, "name": "a-dot", "blocky": true, "doc": "", "type": "s-method-field", "check-loc": null, "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "self"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "loc"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "name"}, "ann": {"type": "a-blank"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "field"}, "ann": {"type": "a-blank"}}]}]}]}, {"type": "s-id", "id": {"type": "s-name", "name": "errors"}}]}, "params": [], "check": {"type": "s-block", "stmts": [{"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "p"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "PP"}}, "field": "surface-parse"}, "args": [{"type": "s-id", "id": {"type": "s-underscore"}}, {"type": "s-str", "value": "test"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "px"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "p"}}, "args": [{"type": "s-str", "value": "x"}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "resolved"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "resolved-names"}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "px"}}, {"type": "s-id", "id": {"type": "s-name", "name": "empty"}}, {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "computed-env"}, "args": [{"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "mutable-string-dict"}, "values": []}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "string-dict"}, "values": []}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "string-dict"}, "values": []}, {"type": "s-construct", "modifier": {"type": "s-construct-normal"}, "constructor": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "SD"}}, "field": "string-dict"}, "values": []}]}]}, "keyword-val": false}, {"type": "s-let", "name": {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "unbound1"}, "ann": {"type": "a-blank"}}, "value": {"type": "s-app", "fun": {"type": "s-id", "id": {"type": "s-name", "name": "check-unbound-ids-bad-assignments"}}, "args": [{"type": "s-id", "id": {"type": "s-name", "name": "px"}}, {"type": "s-id", "id": {"type": "s-name", "name": "resolved"}}, {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "C"}}, "field": "no-builtins"}]}, "keyword-val": false}, {"type": "s-check-test", "op": {"type": "s-op-is"}, "refinement": null, "left": {"type": "s-app", "fun": {"type": "s-dot", "obj": {"type": "s-id", "id": {"type": "s-name", "name": "unbound1"}}, "field": "length"}, "args": []}, "right": {"type": "s-num", "value": "1"}, "cause": null}]}, "name": "check-unbound-ids-bad-assignments", "blocky": true, "doc": "", "type": "s-fun", "check-loc": "srcloc(\"/tmp/pyret_lazy_cache_input_6a082ca34a070d003c6c2e068e562773411c9587d7899710bb3818ff55a850ca.arr\", 1868, 0, 82727, 1868, 6, 82733)", "args": [{"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "ast"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "A"}, "field": "Program"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "resolved"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "NameResolution"}}, {"type": "s-bind", "shadows": false, "name": {"type": "s-name", "name": "initial-env"}, "ann": {"type": "a-dot", "obj": {"type": "s-name", "name": "C"}, "field": "CompileEnvironment"}}]}]}}