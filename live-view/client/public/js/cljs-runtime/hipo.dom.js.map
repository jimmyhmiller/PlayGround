{"version":3,"sources":["hipo/dom.cljs"],"mappings":"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","names":["hipo.dom/create-element","namespace-uri","tag","js/document","hipo.dom/node?","o","js/Node","hipo.dom/element?","el","hipo.dom/text-element?","js/Error","hipo.dom/child","i","var_args","G__37199","hipo.dom/children","hipo.dom.children","fel","cel","acc","nel","cljs.core/count","cljs.core.conj","hipo.dom/replace!","hipo.dom/replace-text!","s","hipo.dom/clear!","hipo.dom/remove-trailing-children!","n","n__4613__auto__","_","hipo.dom/insert-child!","hipo.dom/remove-child!"],"sourcesContent":["(ns hipo.dom)\n\n(defn create-element [namespace-uri tag]\n  (if namespace-uri\n    (.createElementNS js/document namespace-uri tag)\n    (.createElement js/document tag)))\n\n(defn- node? [o] (instance? js/Node o))\n(defn- element? [el] (if el (identical? 1 (.-nodeType el))))\n(defn- text-element? [el] (if el (identical? 3 (.-nodeType el))))\n\n(defn child\n  [el i]\n  {:pre [(node? el) (not (neg? i))]}\n  (aget (.-childNodes el) i))\n\n(defn children\n  ([el] (children el 0))\n  ([el i]\n   {:pre [(node? el)\n          (not (neg? i))]}\n   (let [fel (.-firstChild el)]\n     (if fel\n       (loop [cel fel\n              acc [cel]]\n         (let [nel (.-nextSibling cel)]\n           (if (and (not (zero? (- (count acc) (inc i)))) nel)\n             (recur nel (conj acc nel))\n             acc)))))))\n\n(defn replace!\n  [el nel]\n  {:pre [(node? el) (node? nel)\n         (not (nil? (.-parentElement el)))]}\n  (.replaceChild (.-parentElement el) nel el))\n\n(defn replace-text!\n  [el s]\n  {:pre [(node? el) (string? s)]}\n  (if (text-element? el)\n    (set! (.-textContent el) s)\n    (replace! el (.createTextNode js/document s))))\n\n(defn clear!\n  [el]\n  {:pre [(element? el)]}\n  (set! (.-innerHTML el) \"\"))\n\n(defn remove-trailing-children!\n  [el n]\n  {:pre [(node? el) (not (neg? n))]}\n  (dotimes [_ n]\n    (.removeChild el (.-lastChild el))))\n\n(defn insert-child!\n  [el i nel]\n  {:pre [(node? el) (not (neg? i)) (node? nel)]}\n  (.insertBefore el nel (child el i)))\n\n(defn remove-child!\n  [el i]\n  {:pre [(node? el) (not (neg? i))]}\n  (.removeChild el (child el i)))\n"]}